#!/usr/bin/env node
"use strict";var Bf=Object.create;var Ci=Object.defineProperty;var qf=Object.getOwnPropertyDescriptor;var Uf=Object.getOwnPropertyNames;var Wf=Object.getPrototypeOf,Gf=Object.prototype.hasOwnProperty;var Jf=(e,t,r)=>t in e?Ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Vf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Uf(t))!Gf.call(e,i)&&i!==r&&Ci(e,i,{get:()=>t[i],enumerable:!(n=qf(t,i))||n.enumerable});return e};var _=(e,t,r)=>(r=e!=null?Bf(Wf(e)):{},Vf(t||!e||!e.__esModule?Ci(r,"default",{value:e,enumerable:!0}):r,e));var da=(e,t,r)=>(Jf(e,typeof t!="symbol"?t+"":t,r),r),ma=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var h=(e,t,r)=>(ma(e,t,"read from private field"),r?r.call(e):t.get(e)),N=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},T=(e,t,r,n)=>(ma(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Gt=(e,t,r,n)=>({set _(i){T(e,t,i,r)},get _(){return h(e,t,n)}});var Ca=S((Mm,ji)=>{"use strict";var Ta=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};ji.exports=Ta;ji.exports.default=Ta});var Ra=S((Nm,Tn)=>{"use strict";var sp=Ca(),En=new WeakMap,Pa=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,i=e.displayName||e.name||"<anonymous>",o=function(...a){if(En.set(o,++n),n===1)r=e.apply(this,a),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return sp(o,e),En.set(o,n),o};Tn.exports=Pa;Tn.exports.default=Pa;Tn.exports.callCount=e=>{if(!En.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return En.get(e)}});var Da=S((Lm,Cn)=>{Cn.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Cn.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Cn.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Ia=S((Bm,_t)=>{var A=global.process,ze=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};ze(A)?(Fa=require("assert"),wt=Da(),ja=/^win/i.test(A.platform),Ht=require("events"),typeof Ht!="function"&&(Ht=Ht.EventEmitter),A.__signal_exit_emitter__?J=A.__signal_exit_emitter__:(J=A.__signal_exit_emitter__=new Ht,J.count=0,J.emitted={}),J.infinite||(J.setMaxListeners(1/0),J.infinite=!0),_t.exports=function(e,t){if(!ze(global.process))return function(){};Fa.equal(typeof e,"function","a callback must be provided for exit handler"),xt===!1&&$i();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){J.removeListener(r,e),J.listeners("exit").length===0&&J.listeners("afterexit").length===0&&Pn()};return J.on(r,e),n},Pn=function(){!xt||!ze(global.process)||(xt=!1,wt.forEach(function(t){try{A.removeListener(t,Rn[t])}catch{}}),A.emit=Dn,A.reallyExit=Oi,J.count-=1)},_t.exports.unload=Pn,Ye=function(t,r,n){J.emitted[t]||(J.emitted[t]=!0,J.emit(t,r,n))},Rn={},wt.forEach(function(e){Rn[e]=function(){if(ze(global.process)){var r=A.listeners(e);r.length===J.count&&(Pn(),Ye("exit",null,e),Ye("afterexit",null,e),ja&&e==="SIGHUP"&&(e="SIGINT"),A.kill(A.pid,e))}}}),_t.exports.signals=function(){return wt},xt=!1,$i=function(){xt||!ze(global.process)||(xt=!0,J.count+=1,wt=wt.filter(function(t){try{return A.on(t,Rn[t]),!0}catch{return!1}}),A.emit=Oa,A.reallyExit=$a)},_t.exports.load=$i,Oi=A.reallyExit,$a=function(t){ze(global.process)&&(A.exitCode=t||0,Ye("exit",A.exitCode,null),Ye("afterexit",A.exitCode,null),Oi.call(A,A.exitCode))},Dn=A.emit,Oa=function(t,r){if(t==="exit"&&ze(global.process)){r!==void 0&&(A.exitCode=r);var n=Dn.apply(this,arguments);return Ye("exit",A.exitCode,null),Ye("afterexit",A.exitCode,null),n}else return Dn.apply(this,arguments)}):_t.exports=function(){return function(){}};var Fa,wt,ja,Ht,J,Pn,Ye,Rn,xt,$i,Oi,$a,Dn,Oa});var Ba=S((Gm,lp)=>{lp.exports={dots:{interval:80,frames:["\u280B","\u2819","\u2839","\u2838","\u283C","\u2834","\u2826","\u2827","\u2807","\u280F"]},dots2:{interval:80,frames:["\u28FE","\u28FD","\u28FB","\u28BF","\u287F","\u28DF","\u28EF","\u28F7"]},dots3:{interval:80,frames:["\u280B","\u2819","\u281A","\u281E","\u2816","\u2826","\u2834","\u2832","\u2833","\u2813"]},dots4:{interval:80,frames:["\u2804","\u2806","\u2807","\u280B","\u2819","\u2838","\u2830","\u2820","\u2830","\u2838","\u2819","\u280B","\u2807","\u2806"]},dots5:{interval:80,frames:["\u280B","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B"]},dots6:{interval:80,frames:["\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2834","\u2832","\u2812","\u2802","\u2802","\u2812","\u281A","\u2819","\u2809","\u2801"]},dots7:{interval:80,frames:["\u2808","\u2809","\u280B","\u2813","\u2812","\u2810","\u2810","\u2812","\u2816","\u2826","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808"]},dots8:{interval:80,frames:["\u2801","\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808","\u2808"]},dots9:{interval:80,frames:["\u28B9","\u28BA","\u28BC","\u28F8","\u28C7","\u2867","\u2857","\u284F"]},dots10:{interval:80,frames:["\u2884","\u2882","\u2881","\u2841","\u2848","\u2850","\u2860"]},dots11:{interval:100,frames:["\u2801","\u2802","\u2804","\u2840","\u2880","\u2820","\u2810","\u2808"]},dots12:{interval:80,frames:["\u2880\u2800","\u2840\u2800","\u2804\u2800","\u2882\u2800","\u2842\u2800","\u2805\u2800","\u2883\u2800","\u2843\u2800","\u280D\u2800","\u288B\u2800","\u284B\u2800","\u280D\u2801","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2888\u2829","\u2840\u2899","\u2804\u2859","\u2882\u2829","\u2842\u2898","\u2805\u2858","\u2883\u2828","\u2843\u2890","\u280D\u2850","\u288B\u2820","\u284B\u2880","\u280D\u2841","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2808\u2829","\u2800\u2899","\u2800\u2859","\u2800\u2829","\u2800\u2898","\u2800\u2858","\u2800\u2828","\u2800\u2890","\u2800\u2850","\u2800\u2820","\u2800\u2880","\u2800\u2840"]},dots13:{interval:80,frames:["\u28FC","\u28F9","\u28BB","\u283F","\u285F","\u28CF","\u28E7","\u28F6"]},dots8Bit:{interval:80,frames:["\u2800","\u2801","\u2802","\u2803","\u2804","\u2805","\u2806","\u2807","\u2840","\u2841","\u2842","\u2843","\u2844","\u2845","\u2846","\u2847","\u2808","\u2809","\u280A","\u280B","\u280C","\u280D","\u280E","\u280F","\u2848","\u2849","\u284A","\u284B","\u284C","\u284D","\u284E","\u284F","\u2810","\u2811","\u2812","\u2813","\u2814","\u2815","\u2816","\u2817","\u2850","\u2851","\u2852","\u2853","\u2854","\u2855","\u2856","\u2857","\u2818","\u2819","\u281A","\u281B","\u281C","\u281D","\u281E","\u281F","\u2858","\u2859","\u285A","\u285B","\u285C","\u285D","\u285E","\u285F","\u2820","\u2821","\u2822","\u2823","\u2824","\u2825","\u2826","\u2827","\u2860","\u2861","\u2862","\u2863","\u2864","\u2865","\u2866","\u2867","\u2828","\u2829","\u282A","\u282B","\u282C","\u282D","\u282E","\u282F","\u2868","\u2869","\u286A","\u286B","\u286C","\u286D","\u286E","\u286F","\u2830","\u2831","\u2832","\u2833","\u2834","\u2835","\u2836","\u2837","\u2870","\u2871","\u2872","\u2873","\u2874","\u2875","\u2876","\u2877","\u2838","\u2839","\u283A","\u283B","\u283C","\u283D","\u283E","\u283F","\u2878","\u2879","\u287A","\u287B","\u287C","\u287D","\u287E","\u287F","\u2880","\u2881","\u2882","\u2883","\u2884","\u2885","\u2886","\u2887","\u28C0","\u28C1","\u28C2","\u28C3","\u28C4","\u28C5","\u28C6","\u28C7","\u2888","\u2889","\u288A","\u288B","\u288C","\u288D","\u288E","\u288F","\u28C8","\u28C9","\u28CA","\u28CB","\u28CC","\u28CD","\u28CE","\u28CF","\u2890","\u2891","\u2892","\u2893","\u2894","\u2895","\u2896","\u2897","\u28D0","\u28D1","\u28D2","\u28D3","\u28D4","\u28D5","\u28D6","\u28D7","\u2898","\u2899","\u289A","\u289B","\u289C","\u289D","\u289E","\u289F","\u28D8","\u28D9","\u28DA","\u28DB","\u28DC","\u28DD","\u28DE","\u28DF","\u28A0","\u28A1","\u28A2","\u28A3","\u28A4","\u28A5","\u28A6","\u28A7","\u28E0","\u28E1","\u28E2","\u28E3","\u28E4","\u28E5","\u28E6","\u28E7","\u28A8","\u28A9","\u28AA","\u28AB","\u28AC","\u28AD","\u28AE","\u28AF","\u28E8","\u28E9","\u28EA","\u28EB","\u28EC","\u28ED","\u28EE","\u28EF","\u28B0","\u28B1","\u28B2","\u28B3","\u28B4","\u28B5","\u28B6","\u28B7","\u28F0","\u28F1","\u28F2","\u28F3","\u28F4","\u28F5","\u28F6","\u28F7","\u28B8","\u28B9","\u28BA","\u28BB","\u28BC","\u28BD","\u28BE","\u28BF","\u28F8","\u28F9","\u28FA","\u28FB","\u28FC","\u28FD","\u28FE","\u28FF"]},sand:{interval:80,frames:["\u2801","\u2802","\u2804","\u2840","\u2848","\u2850","\u2860","\u28C0","\u28C1","\u28C2","\u28C4","\u28CC","\u28D4","\u28E4","\u28E5","\u28E6","\u28EE","\u28F6","\u28F7","\u28FF","\u287F","\u283F","\u289F","\u281F","\u285B","\u281B","\u282B","\u288B","\u280B","\u280D","\u2849","\u2809","\u2811","\u2821","\u2881"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["\u2802","-","\u2013","\u2014","\u2013","-"]},pipe:{interval:100,frames:["\u2524","\u2518","\u2534","\u2514","\u251C","\u250C","\u252C","\u2510"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["\u2736","\u2738","\u2739","\u273A","\u2739","\u2737"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","\xB4","-","_","_","_"]},hamburger:{interval:100,frames:["\u2631","\u2632","\u2634"]},growVertical:{interval:120,frames:["\u2581","\u2583","\u2584","\u2585","\u2586","\u2587","\u2586","\u2585","\u2584","\u2583"]},growHorizontal:{interval:120,frames:["\u258F","\u258E","\u258D","\u258C","\u258B","\u258A","\u2589","\u258A","\u258B","\u258C","\u258D","\u258E"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","\xB0","O","o","."]},noise:{interval:100,frames:["\u2593","\u2592","\u2591"]},bounce:{interval:120,frames:["\u2801","\u2802","\u2804","\u2802"]},boxBounce:{interval:120,frames:["\u2596","\u2598","\u259D","\u2597"]},boxBounce2:{interval:100,frames:["\u258C","\u2580","\u2590","\u2584"]},triangle:{interval:50,frames:["\u25E2","\u25E3","\u25E4","\u25E5"]},arc:{interval:100,frames:["\u25DC","\u25E0","\u25DD","\u25DE","\u25E1","\u25DF"]},circle:{interval:120,frames:["\u25E1","\u2299","\u25E0"]},squareCorners:{interval:180,frames:["\u25F0","\u25F3","\u25F2","\u25F1"]},circleQuarters:{interval:120,frames:["\u25F4","\u25F7","\u25F6","\u25F5"]},circleHalves:{interval:50,frames:["\u25D0","\u25D3","\u25D1","\u25D2"]},squish:{interval:100,frames:["\u256B","\u256A"]},toggle:{interval:250,frames:["\u22B6","\u22B7"]},toggle2:{interval:80,frames:["\u25AB","\u25AA"]},toggle3:{interval:120,frames:["\u25A1","\u25A0"]},toggle4:{interval:100,frames:["\u25A0","\u25A1","\u25AA","\u25AB"]},toggle5:{interval:100,frames:["\u25AE","\u25AF"]},toggle6:{interval:300,frames:["\u101D","\u1040"]},toggle7:{interval:80,frames:["\u29BE","\u29BF"]},toggle8:{interval:100,frames:["\u25CD","\u25CC"]},toggle9:{interval:100,frames:["\u25C9","\u25CE"]},toggle10:{interval:100,frames:["\u3282","\u3280","\u3281"]},toggle11:{interval:50,frames:["\u29C7","\u29C6"]},toggle12:{interval:120,frames:["\u2617","\u2616"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["\u2190","\u2196","\u2191","\u2197","\u2192","\u2198","\u2193","\u2199"]},arrow2:{interval:80,frames:["\u2B06\uFE0F ","\u2197\uFE0F ","\u27A1\uFE0F ","\u2198\uFE0F ","\u2B07\uFE0F ","\u2199\uFE0F ","\u2B05\uFE0F ","\u2196\uFE0F "]},arrow3:{interval:120,frames:["\u25B9\u25B9\u25B9\u25B9\u25B9","\u25B8\u25B9\u25B9\u25B9\u25B9","\u25B9\u25B8\u25B9\u25B9\u25B9","\u25B9\u25B9\u25B8\u25B9\u25B9","\u25B9\u25B9\u25B9\u25B8\u25B9","\u25B9\u25B9\u25B9\u25B9\u25B8"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( \u25CF    )","(  \u25CF   )","(   \u25CF  )","(    \u25CF )","(     \u25CF)","(    \u25CF )","(   \u25CF  )","(  \u25CF   )","( \u25CF    )","(\u25CF     )"]},smiley:{interval:200,frames:["\u{1F604} ","\u{1F61D} "]},monkey:{interval:300,frames:["\u{1F648} ","\u{1F648} ","\u{1F649} ","\u{1F64A} "]},hearts:{interval:100,frames:["\u{1F49B} ","\u{1F499} ","\u{1F49C} ","\u{1F49A} ","\u2764\uFE0F "]},clock:{interval:100,frames:["\u{1F55B} ","\u{1F550} ","\u{1F551} ","\u{1F552} ","\u{1F553} ","\u{1F554} ","\u{1F555} ","\u{1F556} ","\u{1F557} ","\u{1F558} ","\u{1F559} ","\u{1F55A} "]},earth:{interval:180,frames:["\u{1F30D} ","\u{1F30E} ","\u{1F30F} "]},material:{interval:17,frames:["\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581"]},moon:{interval:80,frames:["\u{1F311} ","\u{1F312} ","\u{1F313} ","\u{1F314} ","\u{1F315} ","\u{1F316} ","\u{1F317} ","\u{1F318} "]},runner:{interval:140,frames:["\u{1F6B6} ","\u{1F3C3} "]},pong:{interval:80,frames:["\u2590\u2802       \u258C","\u2590\u2808       \u258C","\u2590 \u2802      \u258C","\u2590 \u2820      \u258C","\u2590  \u2840     \u258C","\u2590  \u2820     \u258C","\u2590   \u2802    \u258C","\u2590   \u2808    \u258C","\u2590    \u2802   \u258C","\u2590    \u2820   \u258C","\u2590     \u2840  \u258C","\u2590     \u2820  \u258C","\u2590      \u2802 \u258C","\u2590      \u2808 \u258C","\u2590       \u2802\u258C","\u2590       \u2820\u258C","\u2590       \u2840\u258C","\u2590      \u2820 \u258C","\u2590      \u2802 \u258C","\u2590     \u2808  \u258C","\u2590     \u2802  \u258C","\u2590    \u2820   \u258C","\u2590    \u2840   \u258C","\u2590   \u2820    \u258C","\u2590   \u2802    \u258C","\u2590  \u2808     \u258C","\u2590  \u2802     \u258C","\u2590 \u2820      \u258C","\u2590 \u2840      \u258C","\u2590\u2820       \u258C"]},shark:{interval:120,frames:["\u2590|\\____________\u258C","\u2590_|\\___________\u258C","\u2590__|\\__________\u258C","\u2590___|\\_________\u258C","\u2590____|\\________\u258C","\u2590_____|\\_______\u258C","\u2590______|\\______\u258C","\u2590_______|\\_____\u258C","\u2590________|\\____\u258C","\u2590_________|\\___\u258C","\u2590__________|\\__\u258C","\u2590___________|\\_\u258C","\u2590____________|\\\u258C","\u2590____________/|\u258C","\u2590___________/|_\u258C","\u2590__________/|__\u258C","\u2590_________/|___\u258C","\u2590________/|____\u258C","\u2590_______/|_____\u258C","\u2590______/|______\u258C","\u2590_____/|_______\u258C","\u2590____/|________\u258C","\u2590___/|_________\u258C","\u2590__/|__________\u258C","\u2590_/|___________\u258C","\u2590/|____________\u258C"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["\u2600\uFE0F ","\u2600\uFE0F ","\u2600\uFE0F ","\u{1F324} ","\u26C5\uFE0F ","\u{1F325} ","\u2601\uFE0F ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u26C8 ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u2601\uFE0F ","\u{1F325} ","\u26C5\uFE0F ","\u{1F324} ","\u2600\uFE0F ","\u2600\uFE0F "]},christmas:{interval:400,frames:["\u{1F332}","\u{1F384}"]},grenade:{interval:80,frames:["\u060C  ","\u2032  "," \xB4 "," \u203E ","  \u2E0C","  \u2E0A","  |","  \u204E","  \u2055"," \u0DF4 ","  \u2053","   ","   ","   "]},point:{interval:125,frames:["\u2219\u2219\u2219","\u25CF\u2219\u2219","\u2219\u25CF\u2219","\u2219\u2219\u25CF","\u2219\u2219\u2219"]},layer:{interval:150,frames:["-","=","\u2261"]},betaWave:{interval:80,frames:["\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1"]},fingerDance:{interval:160,frames:["\u{1F918} ","\u{1F91F} ","\u{1F596} ","\u270B ","\u{1F91A} ","\u{1F446} "]},fistBump:{interval:80,frames:["\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u3000\u{1F91C}\u3000\u3000\u{1F91B}\u3000 ","\u3000\u3000\u{1F91C}\u{1F91B}\u3000\u3000 ","\u3000\u{1F91C}\u2728\u{1F91B}\u3000\u3000 ","\u{1F91C}\u3000\u2728\u3000\u{1F91B}\u3000 "]},soccerHeader:{interval:80,frames:[" \u{1F9D1}\u26BD\uFE0F       \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}       \u26BD\uFE0F\u{1F9D1}  ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} "]},mindblown:{interval:160,frames:["\u{1F610} ","\u{1F610} ","\u{1F62E} ","\u{1F62E} ","\u{1F626} ","\u{1F626} ","\u{1F627} ","\u{1F627} ","\u{1F92F} ","\u{1F4A5} ","\u2728 ","\u3000 ","\u3000 ","\u3000 "]},speaker:{interval:160,frames:["\u{1F508} ","\u{1F509} ","\u{1F50A} ","\u{1F509} "]},orangePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} "]},bluePulse:{interval:100,frames:["\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},orangeBluePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} ","\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},timeTravel:{interval:100,frames:["\u{1F55B} ","\u{1F55A} ","\u{1F559} ","\u{1F558} ","\u{1F557} ","\u{1F556} ","\u{1F555} ","\u{1F554} ","\u{1F553} ","\u{1F552} ","\u{1F551} ","\u{1F550} "]},aesthetic:{interval:80,frames:["\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0","\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1"]}}});var Mi=S((Jm,Ua)=>{"use strict";var jn=Object.assign({},Ba()),qa=Object.keys(jn);Object.defineProperty(jn,"random",{get(){let e=Math.floor(Math.random()*qa.length),t=qa[e];return jn[t]}});Ua.exports=jn});var Wa=S((Qm,$n)=>{var dp=function(){"use strict";function e(a,s,l,c){var f;typeof s=="object"&&(l=s.depth,c=s.prototype,f=s.filter,s=s.circular);var p=[],u=[],b=typeof Buffer<"u";typeof s>"u"&&(s=!0),typeof l>"u"&&(l=1/0);function y(d,x){if(d===null)return null;if(x==0)return d;var w,v;if(typeof d!="object")return d;if(e.__isArray(d))w=[];else if(e.__isRegExp(d))w=new RegExp(d.source,o(d)),d.lastIndex&&(w.lastIndex=d.lastIndex);else if(e.__isDate(d))w=new Date(d.getTime());else{if(b&&Buffer.isBuffer(d))return Buffer.allocUnsafe?w=Buffer.allocUnsafe(d.length):w=new Buffer(d.length),d.copy(w),w;typeof c>"u"?(v=Object.getPrototypeOf(d),w=Object.create(v)):(w=Object.create(c),v=c)}if(s){var $=p.indexOf(d);if($!=-1)return u[$];p.push(d),u.push(w)}for(var C in d){var O;v&&(O=Object.getOwnPropertyDescriptor(v,C)),!(O&&O.set==null)&&(w[C]=y(d[C],x-1))}return w}return y(a,l)}e.clonePrototype=function(s){if(s===null)return null;var l=function(){};return l.prototype=s,new l};function t(a){return Object.prototype.toString.call(a)}e.__objToStr=t;function r(a){return typeof a=="object"&&t(a)==="[object Date]"}e.__isDate=r;function n(a){return typeof a=="object"&&t(a)==="[object Array]"}e.__isArray=n;function i(a){return typeof a=="object"&&t(a)==="[object RegExp]"}e.__isRegExp=i;function o(a){var s="";return a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),s}return e.__getRegExpFlags=o,e}();typeof $n=="object"&&$n.exports&&($n.exports=dp)});var Ja=S((eh,Ga)=>{var mp=Wa();Ga.exports=function(e,t){return e=e||{},Object.keys(t).forEach(function(r){typeof e[r]>"u"&&(e[r]=mp(t[r]))}),e}});var Ha=S((th,Va)=>{Va.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]});var Xa=S((rh,Bi)=>{"use strict";var hp=Ja(),Kt=Ha(),Ya={nul:0,control:0};Bi.exports=function(t){return Ka(t,Ya)};Bi.exports.config=function(e){return e=hp(e||{},Ya),function(r){return Ka(r,e)}};function Ka(e,t){if(typeof e!="string")return za(e,t);for(var r=0,n=0;n<e.length;n++){var i=za(e.charCodeAt(n),t);if(i<0)return-1;r+=i}return r}function za(e,t){return e===0?t.nul:e<32||e>=127&&e<160?t.control:gp(e)?0:1+(e>=4352&&(e<=4447||e==9001||e==9002||e>=11904&&e<=42191&&e!=12351||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141))}function gp(e){var t=0,r=Kt.length-1,n;if(e<Kt[0][0]||e>Kt[r][1])return!1;for(;r>=t;)if(n=Math.floor((t+r)/2),e>Kt[n][1])t=n+1;else if(e<Kt[n][0])r=n-1;else return!0;return!1}});var Ui=S((ih,Za)=>{Za.exports=require("stream")});var is=S((oh,ns)=>{"use strict";function Qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qa(Object(r),!0).forEach(function(n){yp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yp(e,t,r){return t=rs(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ts(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rs(n.key),n)}}function wp(e,t,r){return t&&ts(e.prototype,t),r&&ts(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rs(e){var t=xp(e,"string");return typeof t=="symbol"?t:String(t)}function xp(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _p=require("buffer"),On=_p.Buffer,vp=require("util"),Wi=vp.inspect,Sp=Wi&&Wi.custom||"inspect";function kp(e,t,r){On.prototype.copy.call(e,t,r)}ns.exports=function(){function e(){bp(this,e),this.head=null,this.tail=null,this.length=0}return wp(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return On.alloc(0);for(var n=On.allocUnsafe(r>>>0),i=this.head,o=0;i;)kp(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var a=n.data,s=r>a.length?a.length:r;if(s===a.length?o+=a:o+=a.slice(0,r),r-=s,r===0){s===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(s));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=On.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,s=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,s),r-=s,r===0){s===a.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(s));break}++o}return this.length-=o,n}},{key:Sp,value:function(r,n){return Wi(this,es(es({},n),{},{depth:0,customInspect:!1}))}}]),e}()});var Ji=S((ah,as)=>{"use strict";function Ep(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Gi,this,e)):process.nextTick(Gi,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(In,r):(r._writableState.errorEmitted=!0,process.nextTick(os,r,o)):process.nextTick(os,r,o):t?(process.nextTick(In,r),t(o)):process.nextTick(In,r)}),this)}function os(e,t){Gi(e,t),In(e)}function In(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Tp(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Gi(e,t){e.emit("error",t)}function Cp(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}as.exports={destroy:Ep,undestroy:Tp,errorOrDestroy:Cp}});var $e=S((sh,ls)=>{"use strict";var cs={};function ce(e,t,r){r||(r=Error);function n(o,a,s){return typeof t=="string"?t:t(o,a,s)}class i extends r{constructor(a,s,l){super(n(a,s,l))}}i.prototype.name=r.name,i.prototype.code=e,cs[e]=i}function ss(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(n=>String(n)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function Pp(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function Rp(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Dp(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}ce("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);ce("ERR_INVALID_ARG_TYPE",function(e,t,r){let n;typeof t=="string"&&Pp(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";let i;if(Rp(e," argument"))i=`The ${e} ${n} ${ss(t,"type")}`;else{let o=Dp(e,".")?"property":"argument";i=`The "${e}" ${o} ${n} ${ss(t,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);ce("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ce("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});ce("ERR_STREAM_PREMATURE_CLOSE","Premature close");ce("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});ce("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ce("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ce("ERR_STREAM_WRITE_AFTER_END","write after end");ce("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ce("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);ce("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ls.exports.codes=cs});var Vi=S((ch,fs)=>{"use strict";var Fp=$e().codes.ERR_INVALID_OPT_VALUE;function jp(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function $p(e,t,r,n){var i=jp(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Fp(o,i)}return Math.floor(i)}return e.objectMode?16:16*1024}fs.exports={getHighWaterMark:$p}});var ps=S((lh,Hi)=>{typeof Object.create=="function"?Hi.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Hi.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Ke=S((fh,Yi)=>{try{if(zi=require("util"),typeof zi.inherits!="function")throw"";Yi.exports=zi.inherits}catch{Yi.exports=ps()}var zi});var ds=S((ph,us)=>{us.exports=require("util").deprecate});var Zi=S((uh,ws)=>{"use strict";ws.exports=B;function hs(e){var t=this;this.next=null,this.entry=null,this.finish=function(){au(t,e)}}var St;B.WritableState=Zt;var Op={deprecate:ds()},gs=Ui(),Mn=require("buffer").Buffer,Ip=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Ap(e){return Mn.from(e)}function Mp(e){return Mn.isBuffer(e)||e instanceof Ip}var Xi=Ji(),Np=Vi(),Lp=Np.getHighWaterMark,Oe=$e().codes,Bp=Oe.ERR_INVALID_ARG_TYPE,qp=Oe.ERR_METHOD_NOT_IMPLEMENTED,Up=Oe.ERR_MULTIPLE_CALLBACK,Wp=Oe.ERR_STREAM_CANNOT_PIPE,Gp=Oe.ERR_STREAM_DESTROYED,Jp=Oe.ERR_STREAM_NULL_VALUES,Vp=Oe.ERR_STREAM_WRITE_AFTER_END,Hp=Oe.ERR_UNKNOWN_ENCODING,kt=Xi.errorOrDestroy;Ke()(B,gs);function zp(){}function Zt(e,t,r){St=St||Xe(),e=e||{},typeof r!="boolean"&&(r=t instanceof St),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=Lp(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){tu(t,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new hs(this)}Zt.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(Zt.prototype,"buffer",{get:Op.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var An;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(An=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(t){return An.call(this,t)?!0:this!==B?!1:t&&t._writableState instanceof Zt}})):An=function(t){return t instanceof this};function B(e){St=St||Xe();var t=this instanceof St;if(!t&&!An.call(B,this))return new B(e);this._writableState=new Zt(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),gs.call(this)}B.prototype.pipe=function(){kt(this,new Wp)};function Yp(e,t){var r=new Vp;kt(e,r),process.nextTick(t,r)}function Kp(e,t,r,n){var i;return r===null?i=new Jp:typeof r!="string"&&!t.objectMode&&(i=new Bp("chunk",["string","Buffer"],r)),i?(kt(e,i),process.nextTick(n,i),!1):!0}B.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&Mp(e);return o&&!Mn.isBuffer(e)&&(e=Ap(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=zp),n.ending?Yp(this,r):(o||Kp(this,n,e,r))&&(n.pendingcb++,i=Zp(this,n,o,e,t,r)),i};B.prototype.cork=function(){this._writableState.corked++};B.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&ys(this,e))};B.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new Hp(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Xp(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Mn.from(t,r)),t}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Zp(e,t,r,n,i,o){if(!r){var a=Xp(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Ki(e,t,!1,s,n,i,o);return l}function Ki(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Gp("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Qp(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(Xt,e,t),e._writableState.errorEmitted=!0,kt(e,n)):(i(n),e._writableState.errorEmitted=!0,kt(e,n),Xt(e,t))}function eu(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function tu(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Up;if(eu(r),t)Qp(e,r,n,t,i);else{var o=bs(r)||e.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&ys(e,r),n?process.nextTick(ms,e,r,o,i):ms(e,r,o,i)}}function ms(e,t,r,n){r||ru(e,t),t.pendingcb--,n(),Xt(e,t)}function ru(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function ys(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,Ki(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new hs(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback,p=t.objectMode?1:l.length;if(Ki(e,t,!1,p,l,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}B.prototype._write=function(e,t,r){r(new qp("_write()"))};B.prototype._writev=null;B.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||ou(this,n,r),this};Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function bs(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function nu(e,t){e._final(function(r){t.pendingcb--,r&&kt(e,r),t.prefinished=!0,e.emit("prefinish"),Xt(e,t)})}function iu(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(nu,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Xt(e,t){var r=bs(t);if(r&&(iu(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function ou(e,t,r){t.ending=!0,Xt(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function au(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});B.prototype.destroy=Xi.destroy;B.prototype._undestroy=Xi.undestroy;B.prototype._destroy=function(e,t){t(e)}});var Xe=S((dh,_s)=>{"use strict";var su=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};_s.exports=xe;var xs=to(),eo=Zi();Ke()(xe,xs);for(Qi=su(eo.prototype),Nn=0;Nn<Qi.length;Nn++)Ln=Qi[Nn],xe.prototype[Ln]||(xe.prototype[Ln]=eo.prototype[Ln]);var Qi,Ln,Nn;function xe(e){if(!(this instanceof xe))return new xe(e);xs.call(this,e),eo.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",cu)))}Object.defineProperty(xe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(xe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(xe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function cu(){this._writableState.ended||process.nextTick(lu,this)}function lu(e){e.end()}Object.defineProperty(xe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var ks=S((ro,Ss)=>{var Bn=require("buffer"),_e=Bn.Buffer;function vs(e,t){for(var r in e)t[r]=e[r]}_e.from&&_e.alloc&&_e.allocUnsafe&&_e.allocUnsafeSlow?Ss.exports=Bn:(vs(Bn,ro),ro.Buffer=Ze);function Ze(e,t,r){return _e(e,t,r)}Ze.prototype=Object.create(_e.prototype);vs(_e,Ze);Ze.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return _e(e,t,r)};Ze.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=_e(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Ze.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return _e(e)};Ze.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Bn.SlowBuffer(e)}});var oo=S(Ts=>{"use strict";var io=ks().Buffer,Es=io.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function fu(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function pu(e){var t=fu(e);if(typeof t!="string"&&(io.isEncoding===Es||!Es(e)))throw new Error("Unknown encoding: "+e);return t||e}Ts.StringDecoder=Qt;function Qt(e){this.encoding=pu(e);var t;switch(this.encoding){case"utf16le":this.text=yu,this.end=bu,t=4;break;case"utf8":this.fillLast=mu,t=4;break;case"base64":this.text=wu,this.end=xu,t=3;break;default:this.write=_u,this.end=vu;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=io.allocUnsafe(t)}Qt.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Qt.prototype.end=gu;Qt.prototype.text=hu;Qt.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function no(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function uu(e,t,r){var n=t.length-1;if(n<r)return 0;var i=no(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=no(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=no(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function du(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function mu(e){var t=this.lastTotal-this.lastNeed,r=du(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function hu(e,t){var r=uu(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function gu(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function yu(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function bu(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function wu(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function xu(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function _u(e){return e.toString(this.encoding)}function vu(e){return e&&e.length?this.write(e):""}});var qn=S((hh,Rs)=>{"use strict";var Cs=$e().codes.ERR_STREAM_PREMATURE_CLOSE;function Su(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function ku(){}function Eu(e){return e.setHeader&&typeof e.abort=="function"}function Ps(e,t,r){if(typeof t=="function")return Ps(e,null,t);t||(t={}),r=Su(r||ku);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||s()},a=e._writableState&&e._writableState.finished,s=function(){i=!1,a=!0,n||r.call(e)},l=e._readableState&&e._readableState.endEmitted,c=function(){n=!1,l=!0,i||r.call(e)},f=function(y){r.call(e,y)},p=function(){var y;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(y=new Cs),r.call(e,y);if(i&&!a)return(!e._writableState||!e._writableState.ended)&&(y=new Cs),r.call(e,y)},u=function(){e.req.on("finish",s)};return Eu(e)?(e.on("complete",s),e.on("abort",p),e.req?u():e.on("request",u)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",c),e.on("finish",s),t.error!==!1&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",s),e.removeListener("abort",p),e.removeListener("request",u),e.req&&e.req.removeListener("finish",s),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",s),e.removeListener("end",c),e.removeListener("error",f),e.removeListener("close",p)}}Rs.exports=Ps});var Fs=S((gh,Ds)=>{"use strict";var Un;function Ie(e,t,r){return t=Tu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tu(e){var t=Cu(e,"string");return typeof t=="symbol"?t:String(t)}function Cu(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pu=qn(),Ae=Symbol("lastResolve"),Qe=Symbol("lastReject"),er=Symbol("error"),Wn=Symbol("ended"),et=Symbol("lastPromise"),ao=Symbol("handlePromise"),tt=Symbol("stream");function Me(e,t){return{value:e,done:t}}function Ru(e){var t=e[Ae];if(t!==null){var r=e[tt].read();r!==null&&(e[et]=null,e[Ae]=null,e[Qe]=null,t(Me(r,!1)))}}function Du(e){process.nextTick(Ru,e)}function Fu(e,t){return function(r,n){e.then(function(){if(t[Wn]){r(Me(void 0,!0));return}t[ao](r,n)},n)}}var ju=Object.getPrototypeOf(function(){}),$u=Object.setPrototypeOf((Un={get stream(){return this[tt]},next:function(){var t=this,r=this[er];if(r!==null)return Promise.reject(r);if(this[Wn])return Promise.resolve(Me(void 0,!0));if(this[tt].destroyed)return new Promise(function(a,s){process.nextTick(function(){t[er]?s(t[er]):a(Me(void 0,!0))})});var n=this[et],i;if(n)i=new Promise(Fu(n,this));else{var o=this[tt].read();if(o!==null)return Promise.resolve(Me(o,!1));i=new Promise(this[ao])}return this[et]=i,i}},Ie(Un,Symbol.asyncIterator,function(){return this}),Ie(Un,"return",function(){var t=this;return new Promise(function(r,n){t[tt].destroy(null,function(i){if(i){n(i);return}r(Me(void 0,!0))})})}),Un),ju),Ou=function(t){var r,n=Object.create($u,(r={},Ie(r,tt,{value:t,writable:!0}),Ie(r,Ae,{value:null,writable:!0}),Ie(r,Qe,{value:null,writable:!0}),Ie(r,er,{value:null,writable:!0}),Ie(r,Wn,{value:t._readableState.endEmitted,writable:!0}),Ie(r,ao,{value:function(o,a){var s=n[tt].read();s?(n[et]=null,n[Ae]=null,n[Qe]=null,o(Me(s,!1))):(n[Ae]=o,n[Qe]=a)},writable:!0}),r));return n[et]=null,Pu(t,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Qe];o!==null&&(n[et]=null,n[Ae]=null,n[Qe]=null,o(i)),n[er]=i;return}var a=n[Ae];a!==null&&(n[et]=null,n[Ae]=null,n[Qe]=null,a(Me(void 0,!0))),n[Wn]=!0}),t.on("readable",Du.bind(null,n)),n};Ds.exports=Ou});var Is=S((yh,Os)=>{"use strict";function js(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(c){r(c);return}s.done?t(l):Promise.resolve(l).then(n,i)}function Iu(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(l){js(o,n,i,a,s,"next",l)}function s(l){js(o,n,i,a,s,"throw",l)}a(void 0)})}}function $s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$s(Object(r),!0).forEach(function(n){Mu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$s(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mu(e,t,r){return t=Nu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nu(e){var t=Lu(e,"string");return typeof t=="symbol"?t:String(t)}function Lu(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bu=$e().codes.ERR_INVALID_ARG_TYPE;function qu(e,t,r){var n;if(t&&typeof t.next=="function")n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new Bu("iterable",["Iterable"],t);var i=new e(Au({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,a())};function a(){return s.apply(this,arguments)}function s(){return s=Iu(function*(){try{var l=yield n.next(),c=l.value,f=l.done;f?i.push(null):i.push(yield c)?a():o=!1}catch(p){i.destroy(p)}}),s.apply(this,arguments)}return i}Os.exports=qu});var to=S((wh,Js)=>{"use strict";Js.exports=P;var Et;P.ReadableState=Ls;var bh=require("events").EventEmitter,Ns=function(t,r){return t.listeners(r).length},rr=Ui(),Gn=require("buffer").Buffer,Uu=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Wu(e){return Gn.from(e)}function Gu(e){return Gn.isBuffer(e)||e instanceof Uu}var so=require("util"),E;so&&so.debuglog?E=so.debuglog("stream"):E=function(){};var Ju=is(),ho=Ji(),Vu=Vi(),Hu=Vu.getHighWaterMark,Jn=$e().codes,zu=Jn.ERR_INVALID_ARG_TYPE,Yu=Jn.ERR_STREAM_PUSH_AFTER_EOF,Ku=Jn.ERR_METHOD_NOT_IMPLEMENTED,Xu=Jn.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Tt,co,lo;Ke()(P,rr);var tr=ho.errorOrDestroy,fo=["error","close","destroy","pause","resume"];function Zu(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Ls(e,t,r){Et=Et||Xe(),e=e||{},typeof r!="boolean"&&(r=t instanceof Et),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=Hu(this,e,"readableHighWaterMark",r),this.buffer=new Ju,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Tt||(Tt=oo().StringDecoder),this.decoder=new Tt(e.encoding),this.encoding=e.encoding)}function P(e){if(Et=Et||Xe(),!(this instanceof P))return new P(e);var t=this instanceof Et;this._readableState=new Ls(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),rr.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});P.prototype.destroy=ho.destroy;P.prototype._undestroy=ho.undestroy;P.prototype._destroy=function(e,t){t(e)};P.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Gn.from(e,t),t=""),n=!0),Bs(this,e,t,!1,n)};P.prototype.unshift=function(e){return Bs(this,e,null,!0,!1)};function Bs(e,t,r,n,i){E("readableAddChunk",t);var o=e._readableState;if(t===null)o.reading=!1,td(e,o);else{var a;if(i||(a=Qu(o,t)),a)tr(e,a);else if(o.objectMode||t&&t.length>0)if(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==Gn.prototype&&(t=Wu(t)),n)o.endEmitted?tr(e,new Xu):po(e,o,t,!0);else if(o.ended)tr(e,new Yu);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?po(e,o,t,!1):mo(e,o)):po(e,o,t,!1)}else n||(o.reading=!1,mo(e,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function po(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Vn(e)),mo(e,t)}function Qu(e,t){var r;return!Gu(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new zu("chunk",["string","Buffer","Uint8Array"],t)),r}P.prototype.isPaused=function(){return this._readableState.flowing===!1};P.prototype.setEncoding=function(e){Tt||(Tt=oo().StringDecoder);var t=new Tt(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var As=1073741824;function ed(e){return e>=As?e=As:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Ms(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=ed(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}P.prototype.read=function(e){E("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return E("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?uo(this):Vn(this),null;if(e=Ms(e,t),e===0&&t.ended)return t.length===0&&uo(this),null;var n=t.needReadable;E("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,E("length less than watermark",n)),t.ended||t.reading?(n=!1,E("reading or ended",n)):n&&(E("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Ms(r,t)));var i;return e>0?i=Ws(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&uo(this)),i!==null&&this.emit("data",i),i};function td(e,t){if(E("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?Vn(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,qs(e)))}}function Vn(e){var t=e._readableState;E("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(E("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(qs,e))}function qs(e){var t=e._readableState;E("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,go(e)}function mo(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(rd,e,t))}function rd(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(E("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}P.prototype._read=function(e){tr(this,new Ku("_read()"))};P.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,E("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?s:d;n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",a);function a(x,w){E("onunpipe"),x===r&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,f())}function s(){E("onend"),e.end()}var l=nd(r);e.on("drain",l);var c=!1;function f(){E("cleanup"),e.removeListener("close",b),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",u),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",d),r.removeListener("data",p),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}r.on("data",p);function p(x){E("ondata");var w=e.write(x);E("dest.write",w),w===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Gs(n.pipes,e)!==-1)&&!c&&(E("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function u(x){E("onerror",x),d(),e.removeListener("error",u),Ns(e,"error")===0&&tr(e,x)}Zu(e,"error",u);function b(){e.removeListener("finish",y),d()}e.once("close",b);function y(){E("onfinish"),e.removeListener("close",b),d()}e.once("finish",y);function d(){E("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(E("pipe resume"),r.resume()),e};function nd(e){return function(){var r=e._readableState;E("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Ns(e,"data")&&(r.flowing=!0,go(e))}}P.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Gs(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};P.prototype.on=function(e,t){var r=rr.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,E("on readable",n.length,n.reading),n.length?Vn(this):n.reading||process.nextTick(id,this)),r};P.prototype.addListener=P.prototype.on;P.prototype.removeListener=function(e,t){var r=rr.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(Us,this),r};P.prototype.removeAllListeners=function(e){var t=rr.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(Us,this),t};function Us(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function id(e){E("readable nexttick read 0"),e.read(0)}P.prototype.resume=function(){var e=this._readableState;return e.flowing||(E("resume"),e.flowing=!e.readableListening,od(this,e)),e.paused=!1,this};function od(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(ad,e,t))}function ad(e,t){E("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),go(e),t.flowing&&!t.reading&&e.read(0)}P.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function go(e){var t=e._readableState;for(E("flow",t.flowing);t.flowing&&e.read()!==null;);}P.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(E("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(E("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=t.push(a);s||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(s){return function(){return e[s].apply(e,arguments)}}(i));for(var o=0;o<fo.length;o++)e.on(fo[o],this.emit.bind(this,fo[o]));return this._read=function(a){E("wrapped _read",a),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return co===void 0&&(co=Fs()),co(this)});Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});P._fromList=Ws;Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Ws(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function uo(e){var t=e._readableState;E("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(sd,t,e))}function sd(e,t){if(E("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(P.from=function(e,t){return lo===void 0&&(lo=Is()),lo(P,e,t)});function Gs(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var yo=S((xh,Hs)=>{"use strict";Hs.exports=Ce;var Hn=$e().codes,cd=Hn.ERR_METHOD_NOT_IMPLEMENTED,ld=Hn.ERR_MULTIPLE_CALLBACK,fd=Hn.ERR_TRANSFORM_ALREADY_TRANSFORMING,pd=Hn.ERR_TRANSFORM_WITH_LENGTH_0,zn=Xe();Ke()(Ce,zn);function ud(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new ld);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ce(e){if(!(this instanceof Ce))return new Ce(e);zn.call(this,e),this._transformState={afterTransform:ud.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",dd)}function dd(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Vs(e,t,r)}):Vs(this,null,null)}Ce.prototype.push=function(e,t){return this._transformState.needTransform=!1,zn.prototype.push.call(this,e,t)};Ce.prototype._transform=function(e,t,r){r(new cd("_transform()"))};Ce.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ce.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Ce.prototype._destroy=function(e,t){zn.prototype._destroy.call(this,e,function(r){t(r)})};function Vs(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new pd;if(e._transformState.transforming)throw new fd;return e.push(null)}});var Ks=S((_h,Ys)=>{"use strict";Ys.exports=nr;var zs=yo();Ke()(nr,zs);function nr(e){if(!(this instanceof nr))return new nr(e);zs.call(this,e)}nr.prototype._transform=function(e,t,r){r(null,e)}});var tc=S((vh,ec)=>{"use strict";var bo;function md(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Qs=$e().codes,hd=Qs.ERR_MISSING_ARGS,gd=Qs.ERR_STREAM_DESTROYED;function Xs(e){if(e)throw e}function yd(e){return e.setHeader&&typeof e.abort=="function"}function bd(e,t,r,n){n=md(n);var i=!1;e.on("close",function(){i=!0}),bo===void 0&&(bo=qn()),bo(e,{readable:t,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,yd(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(a||new gd("pipe"))}}}function Zs(e){e()}function wd(e,t){return e.pipe(t)}function xd(e){return!e.length||typeof e[e.length-1]!="function"?Xs:e.pop()}function _d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=xd(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new hd("streams");var i,o=t.map(function(a,s){var l=s<t.length-1,c=s>0;return bd(a,l,c,function(f){i||(i=f),f&&o.forEach(Zs),!l&&(o.forEach(Zs),n(i))})});return t.reduce(wd)}ec.exports=_d});var rc=S((le,or)=>{var ir=require("stream");process.env.READABLE_STREAM==="disable"&&ir?(or.exports=ir.Readable,Object.assign(or.exports,ir),or.exports.Stream=ir):(le=or.exports=to(),le.Stream=ir||le,le.Readable=le,le.Writable=Zi(),le.Duplex=Xe(),le.Transform=yo(),le.PassThrough=Ks(),le.finished=qn(),le.pipeline=tc())});var oc=S((Sh,ic)=>{"use strict";var{Buffer:me}=require("buffer"),nc=Symbol.for("BufferList");function j(e){if(!(this instanceof j))return new j(e);j._init.call(this,e)}j._init=function(t){Object.defineProperty(this,nc,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)};j.prototype._new=function(t){return new j(t)};j.prototype._offset=function(t){if(t===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(t<i||n===this._bufs.length-1)return[n,t-r];r=i}};j.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let n=0;n<t;n++)r+=this._bufs[n].length;return r};j.prototype.get=function(t){if(t>this.length||t<0)return;let r=this._offset(t);return this._bufs[r[0]][r[1]]};j.prototype.slice=function(t,r){return typeof t=="number"&&t<0&&(t+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,t,r)};j.prototype.copy=function(t,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return t||me.alloc(0);let o=!!t,a=this._offset(n),s=i-n,l=s,c=o&&r||0,f=a[1];if(n===0&&i===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:me.concat(this._bufs,this.length);for(let p=0;p<this._bufs.length;p++)this._bufs[p].copy(t,c),c+=this._bufs[p].length;return t}if(l<=this._bufs[a[0]].length-f)return o?this._bufs[a[0]].copy(t,r,f,f+l):this._bufs[a[0]].slice(f,f+l);o||(t=me.allocUnsafe(s));for(let p=a[0];p<this._bufs.length;p++){let u=this._bufs[p].length-f;if(l>u)this._bufs[p].copy(t,c,f),c+=u;else{this._bufs[p].copy(t,c,f,f+l),c+=u;break}l-=u,f&&(f=0)}return t.length>c?t.slice(0,c):t};j.prototype.shallowSlice=function(t,r){if(t=t||0,r=typeof r!="number"?this.length:r,t<0&&(t+=this.length),r<0&&(r+=this.length),t===r)return this._new();let n=this._offset(t),i=this._offset(r),o=this._bufs.slice(n[0],i[0]+1);return i[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),n[1]!==0&&(o[0]=o[0].slice(n[1])),this._new(o)};j.prototype.toString=function(t,r,n){return this.slice(r,n).toString(t)};j.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this};j.prototype.duplicate=function(){let t=this._new();for(let r=0;r<this._bufs.length;r++)t.append(this._bufs[r]);return t};j.prototype.append=function(t){if(t==null)return this;if(t.buffer)this._appendBuffer(me.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let r=0;r<t.length;r++)this.append(t[r]);else if(this._isBufferList(t))for(let r=0;r<t._bufs.length;r++)this.append(t._bufs[r]);else typeof t=="number"&&(t=t.toString()),this._appendBuffer(me.from(t));return this};j.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length};j.prototype.indexOf=function(e,t,r){if(r===void 0&&typeof t=="string"&&(r=t,t=void 0),typeof e=="function"||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof e=="number"?e=me.from([e]):typeof e=="string"?e=me.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=me.from(e.buffer,e.byteOffset,e.byteLength):me.isBuffer(e)||(e=me.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),e.length===0)return t>this.length?this.length:t;let n=this._offset(t),i=n[0],o=n[1];for(;i<this._bufs.length;i++){let a=this._bufs[i];for(;o<a.length;)if(a.length-o>=e.length){let l=a.indexOf(e,o);if(l!==-1)return this._reverseOffset([i,l]);o=a.length-e.length+1}else{let l=this._reverseOffset([i,o]);if(this._match(l,e))return l;o++}o=0}return-1};j.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0};(function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)(function(r){e[r]===null?j.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:j.prototype[r]=function(n=0){return this.slice(n,n+e[r])[r](0)}})(t)})();j.prototype._isBufferList=function(t){return t instanceof j||j.isBufferList(t)};j.isBufferList=function(t){return t!=null&&t[nc]};ic.exports=j});var ac=S((kh,Yn)=>{"use strict";var wo=rc().Duplex,vd=Ke(),ar=oc();function Z(e){if(!(this instanceof Z))return new Z(e);if(typeof e=="function"){this._callback=e;let t=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",t)}),this.on("unpipe",function(n){n.removeListener("error",t)}),e=null}ar._init.call(this,e),wo.call(this)}vd(Z,wo);Object.assign(Z.prototype,ar.prototype);Z.prototype._new=function(t){return new Z(t)};Z.prototype._write=function(t,r,n){this._appendBuffer(t),typeof n=="function"&&n()};Z.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)};Z.prototype.end=function(t){wo.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)};Z.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)};Z.prototype._isBufferList=function(t){return t instanceof Z||t instanceof ar||Z.isBufferList(t)};Z.isBufferList=ar.isBufferList;Yn.exports=Z;Yn.exports.BufferListStream=Z;Yn.exports.BufferList=ar});var qc=S((uy,Bc)=>{Bc.exports=Lc;Lc.sync=Dd;var Mc=require("fs");function Rd(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function Nc(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Rd(t,r)}function Lc(e,t,r){Mc.stat(e,function(n,i){r(n,n?!1:Nc(i,e,t))})}function Dd(e,t){return Nc(Mc.statSync(e),e,t)}});var Vc=S((dy,Jc)=>{Jc.exports=Wc;Wc.sync=Fd;var Uc=require("fs");function Wc(e,t,r){Uc.stat(e,function(n,i){r(n,n?!1:Gc(i,t))})}function Fd(e,t){return Gc(Uc.statSync(e),t)}function Gc(e,t){return e.isFile()&&jd(e,t)}function jd(e,t){var r=e.mode,n=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),f=s|l,p=r&c||r&l&&i===a||r&s&&n===o||r&f&&o===0;return p}});var zc=S((hy,Hc)=>{var my=require("fs"),oi;process.platform==="win32"||global.TESTING_WINDOWS?oi=qc():oi=Vc();Hc.exports=Po;Po.sync=$d;function Po(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Po(e,t||{},function(o,a){o?i(o):n(a)})})}oi(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function $d(e,t){try{return oi.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var tl=S((gy,el)=>{var Mt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Yc=require("path"),Od=Mt?";":":",Kc=zc(),Xc=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Zc=(e,t)=>{let r=t.colon||Od,n=e.match(/\//)||Mt&&e.match(/\\/)?[""]:[...Mt?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=Mt?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=Mt?i.split(r):[""];return Mt&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},Qc=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:o}=Zc(e,t),a=[],s=c=>new Promise((f,p)=>{if(c===n.length)return t.all&&a.length?f(a):p(Xc(e));let u=n[c],b=/^".*"$/.test(u)?u.slice(1,-1):u,y=Yc.join(b,e),d=!b&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;f(l(d,c,0))}),l=(c,f,p)=>new Promise((u,b)=>{if(p===i.length)return u(s(f+1));let y=i[p];Kc(c+y,{pathExt:o},(d,x)=>{if(!d&&x)if(t.all)a.push(c+y);else return u(c+y);return u(l(c,f,p+1))})});return r?s(0).then(c=>r(null,c),r):s(0)},Id=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=Zc(e,t),o=[];for(let a=0;a<r.length;a++){let s=r[a],l=/^".*"$/.test(s)?s.slice(1,-1):s,c=Yc.join(l,e),f=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let p=0;p<n.length;p++){let u=f+n[p];try{if(Kc.sync(u,{pathExt:i}))if(t.all)o.push(u);else return u}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw Xc(e)};el.exports=Qc;Qc.sync=Id});var nl=S((yy,Ro)=>{"use strict";var rl=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Ro.exports=rl;Ro.exports.default=rl});var sl=S((by,al)=>{"use strict";var il=require("path"),Ad=tl(),Md=nl();function ol(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let a;try{a=Ad.sync(e.command,{path:r[Md({env:r})],pathExt:t?il.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return a&&(a=il.resolve(i?e.options.cwd:"",a)),a}function Nd(e){return ol(e)||ol(e,!0)}al.exports=Nd});var cl=S((wy,Fo)=>{"use strict";var Do=/([()\][%!^"`<>&|;, *?])/g;function Ld(e){return e=e.replace(Do,"^$1"),e}function Bd(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Do,"^$1"),t&&(e=e.replace(Do,"^$1")),e}Fo.exports.command=Ld;Fo.exports.argument=Bd});var fl=S((xy,ll)=>{"use strict";ll.exports=/^#!(.*)/});var ul=S((_y,pl)=>{"use strict";var qd=fl();pl.exports=(e="")=>{let t=e.match(qd);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var ml=S((vy,dl)=>{"use strict";var jo=require("fs"),Ud=ul();function Wd(e){let r=Buffer.alloc(150),n;try{n=jo.openSync(e,"r"),jo.readSync(n,r,0,150,0),jo.closeSync(n)}catch{}return Ud(r.toString())}dl.exports=Wd});var bl=S((Sy,yl)=>{"use strict";var Gd=require("path"),hl=sl(),gl=cl(),Jd=ml(),Vd=process.platform==="win32",Hd=/\.(?:com|exe)$/i,zd=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Yd(e){e.file=hl(e);let t=e.file&&Jd(e.file);return t?(e.args.unshift(e.file),e.command=t,hl(e)):e.file}function Kd(e){if(!Vd)return e;let t=Yd(e),r=!Hd.test(t);if(e.options.forceShell||r){let n=zd.test(t);e.command=Gd.normalize(e.command),e.command=gl.command(e.command),e.args=e.args.map(o=>gl.argument(o,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function Xd(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:Kd(n)}yl.exports=Xd});var _l=S((ky,xl)=>{"use strict";var $o=process.platform==="win32";function Oo(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function Zd(e,t){if(!$o)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let o=wl(i,t,"spawn");if(o)return r.call(e,"error",o)}return r.apply(e,arguments)}}function wl(e,t){return $o&&e===1&&!t.file?Oo(t.original,"spawn"):null}function Qd(e,t){return $o&&e===1&&!t.file?Oo(t.original,"spawnSync"):null}xl.exports={hookChildProcess:Zd,verifyENOENT:wl,verifyENOENTSync:Qd,notFoundError:Oo}});var Mo=S((Ey,Nt)=>{"use strict";var vl=require("child_process"),Io=bl(),Ao=_l();function Sl(e,t,r){let n=Io(e,t,r),i=vl.spawn(n.command,n.args,n.options);return Ao.hookChildProcess(i,n),i}function em(e,t,r){let n=Io(e,t,r),i=vl.spawnSync(n.command,n.args,n.options);return i.error=i.error||Ao.verifyENOENTSync(i.status,n),i}Nt.exports=Sl;Nt.exports.spawn=Sl;Nt.exports.sync=em;Nt.exports._parse=Io;Nt.exports._enoent=Ao});var Yl=S((D0,am)=>{am.exports={name:"thirdweb",main:"dist/cli/index.js",version:"0.10.36",repository:"https://github.com/thirdweb-dev/js/tree/main/packages/cli",author:"thirdweb eng <eng@thirdweb.com>",license:"Apache-2.0",engines:{node:">=16.0.0 <19"},devDependencies:{"@gmrchk/cli-testing-library":"^0.1.2","@thirdweb-dev/tsconfig":"workspace:*","@types/async-retry":"^1.3.0","@types/cross-spawn":"^6.0.2","@types/inquirer":"^8.2.1","@types/jest":"^29.5.2","@types/js-yaml":"^4.0.5","@types/node":"^18.16.18","@types/prompts":"^2.4.4","@types/rimraf":"^3.0.0","@types/tar":"^6.1.5","@types/update-notifier":"^6.0.4","@types/validate-npm-package-name":"^4.0.0",chalk:"^5.3.0","cross-spawn":"^7.0.3","eslint-config-thirdweb":"workspace:*",hardhat:"^2.16.1",jest:"^29.4.3",ora:"^6.3.1",prettier:"^2.8.8","ts-jest":"^29.1.0","ts-node":"^10.7.0",tsup:"^6.7.0",typescript:"^5.1.6"},dependencies:{"@iarna/toml":"^2.2.5","@thirdweb-dev/chains":"workspace:*","@thirdweb-dev/sdk":"workspace:*","@thirdweb-dev/storage":"workspace:*","async-retry":"^1.3.3",commander:"^9.1.0","detect-package-manager":"^2.0.1",enquirer:"^2.3.6",ethers:"^5.7.2",got:"11.8.5",inquirer:"^8.2.3","js-yaml":"^4.1.0","node-fetch":"^3.3.1",open:"^8.4.0",prompts:"^2.4.2",rimraf:"^3.0.2",solc:"0.8.17","sync-disk-cache":"^2.1.0",tar:"^6.1.15","update-notifier":"^6.0.2","validate-npm-package-name":"^4.0.0",yaml:"^2.3.1"},bin:{thirdweb:"./dist/cli/index.js"},scripts:{format:"prettier --write 'src/**/*'",lint:"eslint src/",fix:"eslint src/ --fix",clean:"rm -rf dist/",cli:"node -r ts-node/register src/cli/index.ts",build:"pnpm clean && tsup --env.NODE_ENV production --minify --format cjs --external hardhat --dts-resolve","build:watch":"pnpm run build --watch","generate-thirdweb-package":"node scripts/generate-thirdweb-package.js",e2e:"jest"},files:["src/","dist/"],tsup:{entry:["src/cli/index.ts","src/helpers/hardhat-config-extractor.ts"],splitting:!1,sourcemap:!0,clean:!0}}});var _n=["ContractMetadata","Permissions"];var cr=_(require("process"),1);var ha=(e=0)=>t=>`\x1B[${t+e}m`,ga=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,ya=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,I={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},Cm=Object.keys(I.modifier),Hf=Object.keys(I.color),zf=Object.keys(I.bgColor),Pm=[...Hf,...zf];function Yf(){let e=new Map;for(let[t,r]of Object.entries(I)){for(let[n,i]of Object.entries(r))I[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=I[n],e.set(i[0],i[1]);Object.defineProperty(I,t,{value:r,enumerable:!1})}return Object.defineProperty(I,"codes",{value:e,enumerable:!1}),I.color.close="\x1B[39m",I.bgColor.close="\x1B[49m",I.color.ansi=ha(),I.color.ansi256=ga(),I.color.ansi16m=ya(),I.bgColor.ansi=ha(10),I.bgColor.ansi256=ga(10),I.bgColor.ansi16m=ya(10),Object.defineProperties(I,{rgbToAnsi256:{value(t,r,n){return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(t){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(o=>o+o).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:t=>I.rgbToAnsi256(...I.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,i;if(t>=232)r=((t-232)*10+8)/255,n=r,i=r;else{t-=16;let s=t%36;r=Math.floor(t/36)/5,n=Math.floor(s/6)/5,i=s%6/5}let o=Math.max(r,n,i)*2;if(o===0)return 30;let a=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return o===2&&(a+=60),a},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>I.ansi256ToAnsi(I.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>I.ansi256ToAnsi(I.hexToAnsi256(t)),enumerable:!1}}),I}var Kf=Yf(),de=Kf;var Sn=_(require("process"),1),wa=_(require("os"),1),Pi=_(require("tty"),1);function ae(e,t=globalThis.Deno?globalThis.Deno.args:Sn.default.argv){let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:L}=Sn.default,vn;ae("no-color")||ae("no-colors")||ae("color=false")||ae("color=never")?vn=0:(ae("color")||ae("colors")||ae("color=true")||ae("color=always"))&&(vn=1);function Xf(){if("FORCE_COLOR"in L)return L.FORCE_COLOR==="true"?1:L.FORCE_COLOR==="false"?0:L.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(L.FORCE_COLOR,10),3)}function Zf(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Qf(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let n=Xf();n!==void 0&&(vn=n);let i=r?vn:n;if(i===0)return 0;if(r){if(ae("color=16m")||ae("color=full")||ae("color=truecolor"))return 3;if(ae("color=256"))return 2}if("TF_BUILD"in L&&"AGENT_NAME"in L)return 1;if(e&&!t&&i===void 0)return 0;let o=i||0;if(L.TERM==="dumb")return o;if(Sn.default.platform==="win32"){let a=wa.default.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in L)return"GITHUB_ACTIONS"in L||"GITEA_ACTIONS"in L?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(a=>a in L)||L.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in L)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(L.TEAMCITY_VERSION)?1:0;if(L.COLORTERM==="truecolor"||L.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in L){let a=Number.parseInt((L.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(L.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(L.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(L.TERM)||"COLORTERM"in L?1:o}function ba(e,t={}){let r=Qf(e,{streamIsTTY:e&&e.isTTY,...t});return Zf(r)}var ep={stdout:ba({isTTY:Pi.default.isatty(1)}),stderr:ba({isTTY:Pi.default.isatty(2)})},xa=ep;function _a(e,t,r){let n=e.indexOf(t);if(n===-1)return e;let i=t.length,o=0,a="";do a+=e.slice(o,n)+t+r,o=n+i,n=e.indexOf(t,o);while(n!==-1);return a+=e.slice(o),a}function va(e,t,r,n){let i=0,o="";do{let a=e[n-1]==="\r";o+=e.slice(i,a?n-1:n)+t+(a?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return o+=e.slice(i),o}var{stdout:Sa,stderr:ka}=xa,Ri=Symbol("GENERATOR"),yt=Symbol("STYLER"),Jt=Symbol("IS_EMPTY"),Ea=["ansi","ansi","ansi256","ansi16m"],bt=Object.create(null),tp=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Sa?Sa.level:0;e.level=t.level===void 0?r:t.level};var rp=e=>{let t=(...r)=>r.join(" ");return tp(t,e),Object.setPrototypeOf(t,Vt.prototype),t};function Vt(e){return rp(e)}Object.setPrototypeOf(Vt.prototype,Function.prototype);for(let[e,t]of Object.entries(de))bt[e]={get(){let r=kn(this,Fi(t.open,t.close,this[yt]),this[Jt]);return Object.defineProperty(this,e,{value:r}),r}};bt.visible={get(){let e=kn(this,this[yt],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var Di=(e,t,r,...n)=>e==="rgb"?t==="ansi16m"?de[r].ansi16m(...n):t==="ansi256"?de[r].ansi256(de.rgbToAnsi256(...n)):de[r].ansi(de.rgbToAnsi(...n)):e==="hex"?Di("rgb",t,r,...de.hexToRgb(...n)):de[r][e](...n),np=["rgb","hex","ansi256"];for(let e of np){bt[e]={get(){let{level:r}=this;return function(...n){let i=Fi(Di(e,Ea[r],"color",...n),de.color.close,this[yt]);return kn(this,i,this[Jt])}}};let t="bg"+e[0].toUpperCase()+e.slice(1);bt[t]={get(){let{level:r}=this;return function(...n){let i=Fi(Di(e,Ea[r],"bgColor",...n),de.bgColor.close,this[yt]);return kn(this,i,this[Jt])}}}}var ip=Object.defineProperties(()=>{},{...bt,level:{enumerable:!0,get(){return this[Ri].level},set(e){this[Ri].level=e}}}),Fi=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},kn=(e,t,r)=>{let n=(...i)=>op(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,ip),n[Ri]=e,n[yt]=t,n[Jt]=r,n},op=(e,t)=>{if(e.level<=0||!t)return e[Jt]?"":t;let r=e[yt];if(r===void 0)return t;let{openAll:n,closeAll:i}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=_a(t,r.close,r.open),r=r.parent;let o=t.indexOf(`
`);return o!==-1&&(t=va(t,i,n,o)),n+t+i};Object.defineProperties(Vt.prototype,bt);var ap=Vt(),Im=Vt({level:ka?ka.level:0});var m=ap;var Ii=_(require("process"),1);var Aa=_(require("process"),1),Ma=_(Ra(),1),Na=_(Ia(),1),cp=(0,Ma.default)(()=>{(0,Na.default)(()=>{Aa.default.stderr.write("\x1B[?25h")},{alwaysLast:!0})}),La=cp;var Fn=!1,vt={};vt.show=(e=Ii.default.stderr)=>{e.isTTY&&(Fn=!1,e.write("\x1B[?25h"))};vt.hide=(e=Ii.default.stderr)=>{e.isTTY&&(La(),Fn=!0,e.write("\x1B[?25l"))};vt.toggle=(e,t)=>{e!==void 0&&(Fn=e),Fn?vt.show(t):vt.hide(t)};var Ai=vt;var lr=_(Mi(),1);var se=_(require("process"),1);function zt(){return se.default.platform!=="win32"?se.default.env.TERM!=="linux":!!se.default.env.CI||!!se.default.env.WT_SESSION||!!se.default.env.TERMINUS_SUBLIME||se.default.env.ConEmuTask==="{cmd::Cmder}"||se.default.env.TERM_PROGRAM==="Terminus-Sublime"||se.default.env.TERM_PROGRAM==="vscode"||se.default.env.TERM==="xterm-256color"||se.default.env.TERM==="alacritty"||se.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var fp={info:m.blue("\u2139"),success:m.green("\u2714"),warning:m.yellow("\u26A0"),error:m.red("\u2716")},pp={info:m.blue("i"),success:m.green("\u221A"),warning:m.yellow("\u203C"),error:m.red("\xD7")},up=zt()?fp:pp,Yt=up;function Ni({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}function Li(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Ni(),"")}var lc=_(Xa(),1);function qi({stream:e=process.stdout}={}){return!!(e&&e.isTTY&&process.env.TERM!=="dumb"&&!("CI"in process.env))}var fe=_(require("process"),1),sc=_(require("readline"),1),cc=_(ac(),1);var Sd=3,Pe,sr,Ct,Ne,xo=class{constructor(){N(this,Pe,0);N(this,sr,new cc.BufferListStream);N(this,Ct,void 0);N(this,Ne,void 0);h(this,sr).pipe(fe.default.stdout);let t=this;T(this,Ct,function(r,n,...i){let{stdin:o}=fe.default;if(h(t,Pe)>0||o.emit===h(t,Ct)){if(r==="keypress")return;r==="data"&&n.includes(Sd)&&fe.default.emit("SIGINT"),Reflect.apply(h(t,Ct),this,[r,n,...i])}else Reflect.apply(fe.default.stdin.emit,this,[r,n,...i])})}start(){Gt(this,Pe)._++,h(this,Pe)===1&&this._realStart()}stop(){if(h(this,Pe)<=0)throw new Error("`stop` called more times than `start`");Gt(this,Pe)._--,h(this,Pe)===0&&this._realStop()}_realStart(){fe.default.platform!=="win32"&&(T(this,Ne,sc.default.createInterface({input:fe.default.stdin,output:h(this,sr)})),h(this,Ne).on("SIGINT",()=>{fe.default.listenerCount("SIGINT")===0?fe.default.emit("SIGINT"):(h(this,Ne).close(),fe.default.kill(fe.default.pid,"SIGINT"))}))}_realStop(){fe.default.platform!=="win32"&&(h(this,Ne).close(),T(this,Ne,void 0))}};Pe=new WeakMap,sr=new WeakMap,Ct=new WeakMap,Ne=new WeakMap;var kd=new xo,_o=kd;var Ed=_(Mi(),1);var Le,Pt,rt,Re,U,ve,Y,nt,Rt,Se,ke,Ee,Dt,he,ge,vo=class{constructor(t){N(this,Le,0);N(this,Pt,!1);N(this,rt,0);N(this,Re,0);N(this,U,void 0);N(this,ve,void 0);N(this,Y,void 0);N(this,nt,void 0);N(this,Rt,void 0);N(this,Se,void 0);N(this,ke,void 0);N(this,Ee,void 0);N(this,Dt,void 0);N(this,he,void 0);N(this,ge,void 0);da(this,"color");typeof t=="string"&&(t={text:t}),T(this,U,{color:"cyan",stream:cr.default.stderr,discardStdin:!0,hideCursor:!0,...t}),this.color=h(this,U).color,this.spinner=h(this,U).spinner,T(this,Rt,h(this,U).interval),T(this,Y,h(this,U).stream),T(this,Se,typeof h(this,U).isEnabled=="boolean"?h(this,U).isEnabled:qi({stream:h(this,Y)})),T(this,ke,typeof h(this,U).isSilent=="boolean"?h(this,U).isSilent:!1),this.text=h(this,U).text,this.prefixText=h(this,U).prefixText,this.suffixText=h(this,U).suffixText,this.indent=h(this,U).indent,cr.default.env.NODE_ENV==="test"&&(this._stream=h(this,Y),this._isEnabled=h(this,Se),Object.defineProperty(this,"_linesToClear",{get(){return h(this,Le)},set(r){T(this,Le,r)}}),Object.defineProperty(this,"_frameIndex",{get(){return h(this,Re)}}),Object.defineProperty(this,"_lineCount",{get(){return h(this,rt)}}))}get indent(){return h(this,Ee)}set indent(t=0){if(!(t>=0&&Number.isInteger(t)))throw new Error("The `indent` option must be an integer from 0 and up");T(this,Ee,t),this.updateLineCount()}get interval(){return h(this,Rt)||h(this,ve).interval||100}get spinner(){return h(this,ve)}set spinner(t){if(T(this,Re,0),T(this,Rt,void 0),typeof t=="object"){if(t.frames===void 0)throw new Error("The given spinner must have a `frames` property");T(this,ve,t)}else if(!zt())T(this,ve,lr.default.line);else if(t===void 0)T(this,ve,lr.default.dots);else if(t!=="default"&&lr.default[t])T(this,ve,lr.default[t]);else throw new Error(`There is no built-in spinner named '${t}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`)}get text(){return h(this,Dt)}set text(t){T(this,Dt,t||""),this.updateLineCount()}get prefixText(){return h(this,he)}set prefixText(t){T(this,he,t||""),this.updateLineCount()}get suffixText(){return h(this,ge)}set suffixText(t){T(this,ge,t||""),this.updateLineCount()}get isSpinning(){return h(this,nt)!==void 0}getFullPrefixText(t=h(this,he),r=" "){return typeof t=="string"&&t!==""?t+r:typeof t=="function"?t()+r:""}getFullSuffixText(t=h(this,ge),r=" "){return typeof t=="string"&&t!==""?r+t:typeof t=="function"?r+t():""}updateLineCount(){let t=h(this,Y).columns||80,r=this.getFullPrefixText(h(this,he),"-"),n=this.getFullSuffixText(h(this,ge),"-"),i=" ".repeat(h(this,Ee))+r+"--"+h(this,Dt)+"--"+n;T(this,rt,0);for(let o of Li(i).split(`
`))T(this,rt,h(this,rt)+Math.max(1,Math.ceil((0,lc.default)(o)/t)))}get isEnabled(){return h(this,Se)&&!h(this,ke)}set isEnabled(t){if(typeof t!="boolean")throw new TypeError("The `isEnabled` option must be a boolean");T(this,Se,t)}get isSilent(){return h(this,ke)}set isSilent(t){if(typeof t!="boolean")throw new TypeError("The `isSilent` option must be a boolean");T(this,ke,t)}frame(){let{frames:t}=h(this,ve),r=t[h(this,Re)];this.color&&(r=m[this.color](r)),T(this,Re,++Gt(this,Re)._%t.length);let n=typeof h(this,he)=="string"&&h(this,he)!==""?h(this,he)+" ":"",i=typeof this.text=="string"?" "+this.text:"",o=typeof h(this,ge)=="string"&&h(this,ge)!==""?" "+h(this,ge):"";return n+r+i+o}clear(){if(!h(this,Se)||!h(this,Y).isTTY)return this;h(this,Y).cursorTo(0);for(let t=0;t<h(this,Le);t++)t>0&&h(this,Y).moveCursor(0,-1),h(this,Y).clearLine(1);return(h(this,Ee)||this.lastIndent!==h(this,Ee))&&h(this,Y).cursorTo(h(this,Ee)),this.lastIndent=h(this,Ee),T(this,Le,0),this}render(){return h(this,ke)?this:(this.clear(),h(this,Y).write(this.frame()),T(this,Le,h(this,rt)),this)}start(t){return t&&(this.text=t),h(this,ke)?this:h(this,Se)?this.isSpinning?this:(h(this,U).hideCursor&&Ai.hide(h(this,Y)),h(this,U).discardStdin&&cr.default.stdin.isTTY&&(T(this,Pt,!0),_o.start()),this.render(),T(this,nt,setInterval(this.render.bind(this),this.interval)),this):(this.text&&h(this,Y).write(`- ${this.text}
`),this)}stop(){return h(this,Se)?(clearInterval(h(this,nt)),T(this,nt,void 0),T(this,Re,0),this.clear(),h(this,U).hideCursor&&Ai.show(h(this,Y)),h(this,U).discardStdin&&cr.default.stdin.isTTY&&h(this,Pt)&&(_o.stop(),T(this,Pt,!1)),this):this}succeed(t){return this.stopAndPersist({symbol:Yt.success,text:t})}fail(t){return this.stopAndPersist({symbol:Yt.error,text:t})}warn(t){return this.stopAndPersist({symbol:Yt.warning,text:t})}info(t){return this.stopAndPersist({symbol:Yt.info,text:t})}stopAndPersist(t={}){if(h(this,ke))return this;let r=t.prefixText||h(this,he),n=this.getFullPrefixText(r," "),i=t.symbol||" ",o=t.text||this.text,a=typeof o=="string"?" "+o:"",s=t.suffixText!==void 0?t.suffixText:h(this,ge),l=this.getFullSuffixText(s," "),c=n+i+a+l+`
`;return this.stop(),h(this,Y).write(c),this}};Le=new WeakMap,Pt=new WeakMap,rt=new WeakMap,Re=new WeakMap,U=new WeakMap,ve=new WeakMap,Y=new WeakMap,nt=new WeakMap,Rt=new WeakMap,Se=new WeakMap,ke=new WeakMap,Ee=new WeakMap,Dt=new WeakMap,he=new WeakMap,ge=new WeakMap;function F(e){return new vo(e)}function Kn(e,t){let r=["debug","info","warn","error"];return r.indexOf(t)>=r.indexOf(e)}var De,So=class{constructor(t){N(this,De,"info");t?.minLevel&&T(this,De,t.minLevel)}setSettings(t){t.minLevel&&T(this,De,t.minLevel)}debug(...t){Kn(h(this,De),"debug")&&console.info(...t)}info(...t){Kn(h(this,De),"info")&&console.info(...t)}warn(...t){Kn(h(this,De),"warn")&&console.warn(...t)}error(...t){Kn(h(this,De),"error")&&console.error(...t)}};De=new WeakMap;var g=new So;function ne(e){return F(`${e}
`).start()}function D(e){return F(e).succeed()}function fc(e){return F(e).warn()}function fr(e){return F(e).fail()}var ye=require("fs"),Be=require("path");function ie(e,t,r){if(!(0,ye.existsSync)(e)){console.log("no dir ",e);return}let n=(0,ye.readdirSync)(e);for(let i=0;i<n.length;i++){let o=(0,Be.join)(e,n[i]);if((0,Be.basename)(o,".json")==="ThirdwebContract")continue;let a=(0,ye.statSync)(o);if(a.isDirectory()&&(0,Be.basename)(o)==="dependencies"){g.debug('skipping "dependencies" directory');continue}else if(a.isDirectory()&&(0,Be.basename)(o)==="node_modules"){g.debug('skipping "node_modules" directory');continue}a.isDirectory()?ie(o,t,r):t.test(o)&&r.push(o)}}function ko(e,t,r){if(!(0,ye.existsSync)(e)){console.log("no dir ",e);return}let n=(0,ye.readdirSync)(e);for(let i=0;i<n.length;i++){let o=(0,Be.join)(e,n[i]),a=(0,ye.statSync)(o);if(!(a.isDirectory()&&(0,Be.basename)(o)==="node_modules")&&!(a.isDirectory()&&o.startsWith(".")))if(a.isDirectory())ko(o,t,r);else{let l=(0,ye.readFileSync)(o,"utf-8").match(t);l&&r.push(...l)}}}var pc=require("child_process");async function K(e,t,r={log:!1,cwd:t}){return new Promise((n,i)=>{(0,pc.exec)(e,{...r},(o,a,s)=>{if(o){i(o);return}n({stdout:a,stderr:s})})})}var uc=require("@thirdweb-dev/sdk/evm"),pe=class{shouldProcessContract(t,r,n,i){if(!r||r===""||r==="0x"||!t||t.length===0)return!1;if(n==="ThirdwebContract"||n.toLowerCase().includes("test")||n.toLowerCase().includes("mock"))return g.debug(`Skipping '${n}'.`),!1;if(!i){let o;try{o=(0,uc.extractIPFSHashFromBytecode)(r)}catch(a){g.debug(`Error extracting IPFS hash from '${n}': ${a}`)}if(!o)return g.debug(`Cannot resolve build metadata IPFS hash for contract '${n}'. Skipping.`),!1}return!0}isThirdwebContract(t){try{return t.name==="setThirdwebInfo"&&t.inputs[0].internalType==="struct ThirdwebContract.ThirdwebInfo"?(g.error("You are using an old version of ThirdwebContract, please update to the latest version: 'npm i @thirdweb-dev/contracts'"),!1):t.name==="tw_initializeOwner"&&t.inputs[0].internalType==="address"}catch{return!1}}};var it=require("fs"),Ft=require("path"),dc=require("yaml"),Xn=class extends pe{async compile(t){let r=(0,dc.parse)((0,it.readFileSync)((0,Ft.join)(t.projectPath,"brownie-config.yaml"),"utf-8")),n=(0,Ft.join)(t.projectPath,r?.project_structure?.build||"./build");(0,it.existsSync)(n)&&(0,it.rmSync)(n,{recursive:!0}),await K("brownie compile",t.projectPath);let i=(0,Ft.join)(n,"contracts/"),o=[],a=[];ie(i,/^.*(?<!dbg)\.json$/,a);for(let s of a){g.debug("Processing:",s.replace(i,""));let l=(0,Ft.basename)(s,".json"),c=(0,it.readFileSync)(s,"utf-8"),f=JSON.parse(c),{abi:p,bytecode:u}=f;for(let b of p)if(this.isThirdwebContract(b)){o.find(y=>y.name===l)&&(g.error(`Found multiple contracts with name "${l}". Contract names should be unique.`),process.exit(1)),o.push({metadata:{},bytecode:u,sources:[],fileName:"",name:l});break}}return{contracts:o}}};var mc=require("child_process");async function Zn(){return await new Promise(e=>{(0,mc.exec)("forge --version",t=>{e(!t)})})}var jt=require("fs"),$t=require("path"),Qn=class extends pe{async compile(t){await Zn()||(console.error(`
${m.redBright("error")} You don't have forge installed on this machine!

You can install forge by following these instructions:
${m.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`),process.exit(1)),t.clean&&await K("forge clean",t.projectPath),await K("forge build --extra-output metadata",t.projectPath);let n=(await K("forge config --json",t.projectPath)).stdout,i=JSON.parse(n),o=(0,$t.join)(t.projectPath,i.out),a=[],s=[];ie(o,/^.*(?<!metadata)\.json$/,s);for(let l=0;l<s.length;l++){let c=s[l],f=(0,$t.basename)(c,".json"),p=(0,jt.readFileSync)(c,"utf-8"),u=JSON.parse(p);if(!u.bytecode||!u.deployedBytecode||!u.metadata){g.debug("Skipping",f,"(no bytecode or metadata)");continue}let b=u.metadata.settings.compilationTarget;if(Object.keys(b).length===0||Object.keys(b)[0].includes("@")||this.isTestOrScript(Object.keys(b)[0])){g.debug("Skipping",f,"(not a source target)");continue}if(f.startsWith("std")){g.debug("Skipping",f,"(std library contract)");continue}let y=u.bytecode.object,d=u.deployedBytecode.object,x=u.metadata,w=u.rawMetadata||this.sanitizeParsedMetadata(x,u.abi),v=Object.keys(x.sources).map(O=>{if(O.startsWith("/")&&(0,jt.existsSync)(O))return O;let q=(0,$t.join)(t.projectPath,O);if((0,jt.existsSync)(q))return q;let z=(0,$t.join)(t.projectPath,"node_modules",O);if((0,jt.existsSync)(z))return z}).filter(O=>O!==void 0),$=Object.keys(x?.settings?.compilationTarget||{}),C=$.length>0?$[0]:"";this.shouldProcessContract(u.abi,d,f)&&a.push({name:f,metadata:w,bytecode:y,fileName:C,sources:v})}return{contracts:a}}isTestOrScript(t){return t.endsWith(".s.sol")||t.endsWith(".t.sol")}sort(t){if(typeof t!="object"||t instanceof Array)return t;var r=Object.keys(t);r.sort();for(var n={},i=0;i<r.length;i++)n[r[i]]=this.sort(t[r[i]]);return n}sanitizeParsedMetadata(t,r){t.output.abi=r,t.settings.libraries||(t.settings.libraries={}),t.settings.evmVersion||(t.settings.evmVersion="london"),delete t.settings.outputSelection;let n=this.sort(t);return JSON.stringify(n)}};var Ot=require("fs"),qe=require("path"),ei=class extends pe{async compile(t){let r=(0,qe.resolve)(__dirname,"../helpers/hardhat-config-extractor.js"),n=(await K(`npx hardhat run "${r}" --no-compile`,t.projectPath)).stdout,i=JSON.parse(n.split("__tw__")[1]);g.debug("successfully extracted hardhat config",i),await K("npx hardhat clean",t.projectPath);let o=!1;if(t.zksync){let y=Object.entries(i.networks).find(d=>d[1].zksync);o=(y?.[1]).zksync,await K(`npx hardhat compile --network ${y?.[0]}`,t.projectPath)}else await K("npx hardhat compile",t.projectPath);let a=i.solidity.compilers;if(a)for(let y of a){let d=y.settings?.metadata?.bytecodeHash;if(d&&d!=="ipfs")throw new Error(`Deploying requires "bytecodeHash: 'ipfs'" in your hardhat.config.js file, but it's currently set as "bytecodeHash: '${d}'". Please change it to 'ipfs' and try again.`)}let s=i.paths.artifacts,l=i.paths.sources.replace(t.projectPath,""),c=(0,qe.join)(s,l),f=[];ie(c,/^.*(?<!dbg)\.json$/,[]);let u=(0,qe.join)(s,"build-info"),b=[];ie(u,/^.*(?<!dbg)\.json$/,b);for(let y of b){let d=(0,Ot.readFileSync)(y,"utf-8"),w=JSON.parse(d).output.contracts;for(let[v,$]of Object.entries(w)){if(v.includes("@")){g.debug("Skipping",v,"(not a source target)");continue}for(let[C,O]of Object.entries($)){let q=O;if(!q.evm||!q.evm.bytecode||!q.evm.bytecode.object||!q.metadata||!q.abi){g.debug("Skipping",v,"(no bytecode or metadata)");continue}let z=q.evm.bytecode.object,gt=q.evm.deployedBytecode?.object||z,{metadata:je,abi:Q}=q,k=je.solc_metadata?JSON.parse(je.solc_metadata):JSON.parse(je),oe=Object.keys(k.sources).map(Wt=>{let fa=(0,qe.join)(t.projectPath,Wt);if((0,Ot.existsSync)(fa))return fa;let pa=(0,qe.join)(t.projectPath,l,Wt);if((0,Ot.existsSync)(pa))return pa;let ua=(0,qe.join)(t.projectPath,"node_modules",Wt);if((0,Ot.existsSync)(ua))return ua}).filter(Wt=>Wt!==void 0),we=Object.keys(k?.settings?.compilationTarget||{}),Lf=we.length>0?we[0]:"";this.shouldProcessContract(Q,gt,C,o)&&f.push({metadata:JSON.stringify(k),bytecode:z,name:C,fileName:Lf,sources:oe})}}}return{contracts:f}}};var V=require("fs"),Fe=require("path"),hc=_(require("solc")),ti=class extends pe{async compile(t){let r=[];ie(t.projectPath,/^.*\.sol$/,r);let n=r.reduce((c,f)=>{let p=(0,V.readFileSync)(f,"utf-8");return c[(0,Fe.basename)(f)]={content:p},c},{}),i={language:"Solidity",sources:n,settings:{outputSelection:{"*":{"*":["*"]}},optimizer:{enabled:!0,runs:800}}},o=JSON.parse(hc.default.compile(JSON.stringify(i),{import:c=>{let f=(0,Fe.join)(t.projectPath,"node_modules",c);return(0,V.existsSync)(f)?{contents:(0,V.readFileSync)(f,"utf-8")}:{error:"file not found"}}}));if(o.errors)throw g.error(o.errors),new Error("Error compiling Solidity files");let a=(0,Fe.join)(t.projectPath,"artifacts");(0,V.existsSync)(a)&&(0,V.rmSync)(a,{recursive:!0}),(0,V.existsSync)(a)||(0,V.mkdirSync)(a),Object.keys(o.contracts).filter(c=>c in n).forEach(c=>{let f=o.contracts[c],p=(0,Fe.join)(t.projectPath,"artifacts",c);(0,V.existsSync)(p)||(0,V.mkdirSync)(p);let u=Object.keys(f);for(let b of u){let y=f[b],d=(0,Fe.join)(p,b+".json");(0,V.writeFileSync)(d,JSON.stringify(y,null,2))}});let s=[],l=[];ie(a,/^.*(?<!dbg)\.json$/,l);for(let c of l){g.debug("Processing:",c.replace(a,""));let f=(0,Fe.basename)(c,".json"),p=(0,V.readFileSync)(c,"utf-8"),u=JSON.parse(p),b=u.evm.bytecode.object,y=u.evm.deployedBytecode.object,d=u.metadata,x=JSON.parse(d),w=x.output.abi,v=x.settings.compilationTarget;if(Object.keys(v).length===0||Object.keys(v)[0].includes("@")){g.debug("Skipping",f,"(not a source target)");continue}let $=Object.keys(x.sources).map(q=>{let z=r.find(je=>je.includes(q));if(z&&(0,V.existsSync)(z))return z;let gt=(0,Fe.join)(t.projectPath,"node_modules",q);if((0,V.existsSync)(gt))return gt}).filter(q=>q!==void 0),C=Object.keys(x?.settings?.compilationTarget||{}),O=C.length>0?C[0]:"";this.shouldProcessContract(w,y,f)&&s.push({metadata:d,bytecode:b,name:f,fileName:O,sources:$})}return{contracts:s}}};var Ue=require("fs"),pr=require("path"),ri=class extends pe{async compile(t){let r=require((0,pr.join)(t.projectPath,"truffle-config.js")),n=(0,pr.join)(t.projectPath,r.contracts_build_directory||"./build/contracts");(0,Ue.existsSync)(n)&&(0,Ue.rmSync)(n,{recursive:!0}),await K("npx --yes truffle compile",t.projectPath);let i=[],o=[];ie(n,/^.*(?<!dbg)\.json$/,o);for(let a of o){g.debug("Processing:",a.replace(n,""));let s=(0,Ue.readFileSync)(a,"utf-8"),l=JSON.parse(s),{contractName:c,metadata:f,bytecode:p,deployedBytecode:u}=l,b=JSON.parse(f),y=b.output.abi,d=b.settings.compilationTarget;if(Object.keys(d).length===0||Object.keys(d)[0].includes("@")){g.debug("Skipping",c,"(not a source target)");continue}let x=Object.keys(b.sources).map($=>{$=$.replace("project:/","");let C=(0,pr.join)(t.projectPath,$);if((0,Ue.existsSync)(C))return C;let O=(0,pr.join)(t.projectPath,"node_modules",$);if((0,Ue.existsSync)(O))return O}).filter($=>$!==void 0),w=Object.keys(b?.settings?.compilationTarget||{}),v=w.length>0?w[0]:"";this.shouldProcessContract(y,u,c)&&i.push({metadata:f,bytecode:p,name:c,fileName:v,sources:x})}return{contracts:i}}};async function ot(e,t,r){let n;switch(t){case"hardhat":{n=new ei;break}case"foundry":{n=new Qn;break}case"truffle":{n=new ri;break}case"brownie":{n=new Xn;break}default:{n=new ti;break}}return await n.compile({name:"",projectPath:e,clean:r.clean,zksync:r.zksync})}var ue={typeOfProject:"What type of project do you want to create?",projectName:"What is your project named?",contractName:"What will be the name of your new smart contract?",extensionName:"What will be the name of your new extension?",chain:"Which blockchain do you want to use?",framework:"What framework do you want to use?",language:"What language do you want to use?",contract:"What type of contract do you want to start from?",extensions:"What extensions do you want to add to your contract?",reactNative:"What type of React Native project do you want to create?"},gc={chains:"What chains are you using in your project?"},yc={noConfiguration:"No contract project configuration file found in current directory"};var bc=require("fs"),ur=class{constructor(){this.projectType="foundry"}matches(t){return(0,bc.existsSync)(t+"/foundry.toml")}};var Eo=require("fs"),dr=class{constructor(){this.projectType="hardhat"}matches(t){return(0,Eo.existsSync)(t+"/hardhat.config.js")||(0,Eo.existsSync)(t+"/hardhat.config.ts")}};var wc=require("fs"),mr=class{constructor(){this.projectType="truffle"}matches(t){return(0,wc.existsSync)(t+"/truffle-config.js")}};var ni=require("fs"),xc=_(require("inquirer")),_c=require("path"),{Confirm:Td}=require("enquirer");async function at(e,t){let n=[new dr,new ur,new mr].filter(o=>o.matches(e)).map(o=>o.projectType);if(!n.length)return Cd(e)?(fc(`${yc.noConfiguration} ${e}`),await new Td({name:"continue",message:"Do you want to continue and compile this project with solc instead?",initial:!0}).run()||(g.warn("Aborted contract compilation"),process.exit(1)),"solc"):"none";if(n.length===1)return D(`Detected project type: ${n[0]}`),n[0];D(`Detected multiple possible build tools: ${n.map(o=>`"${o}"`).join(", ")}`);let i="How would you like to compile your contracts";return t.ci?n[0]:(await xc.default.prompt({type:"list",choices:n,name:i}))[i]}function Cd(e){return["","/contracts"].filter(t=>{let r=e+t;return(0,ni.existsSync)(r)?(0,ni.readdirSync)(r).filter(o=>{let{ext:a}=(0,_c.parse)(o);return a===".sol"}).length>0:!1}).length>0}var vc=_(require("prompts")),{MultiSelect:Pd}=require("enquirer");function It(e,t){return new Pd({name:"value",message:t,hint:"Use <space> to select, <return> to submit",choices:e,result(r){return this.map(r)},onSubmit(){this.selected.length===0&&this.enable(this.focused)},indicator(r,n){return n.enabled?this.styles.primary(this.symbols.hexagon.on):this.symbols.hexagon.off},styles:{primary:m.blueBright,get em(){return this.primary}}})}async function Sc(e,t){return await(0,vc.default)({type:"select",name:"routerType",message:t,choices:e})}var To=require("child_process");function At(){try{let e=process.env.npm_config_user_agent;if(e){if(e.startsWith("yarn"))return"yarn";if(e.startsWith("pnpm"))return"pnpm"}try{return(0,To.execSync)("yarn --version",{stdio:"ignore"}),"yarn"}catch{return(0,To.execSync)("pnpm --version",{stdio:"ignore"}),"pnpm"}}catch{return"npm"}}var kc=require("@thirdweb-dev/sdk");var ii=require("fs");var Ec=_(require("path"));async function Tc(e){g.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(g.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:Ec.default.resolve(`${t}/${e.path}`)),g.debug("Processing project at path "+t);let r=await at(t,e),n,i=ne("Compiling project...");try{n=await ot(t,r,e)}catch(s){i.fail("Compilation failed"),g.error(s),process.exit(1)}i.succeed("Compilation successful");let o=[];if(n.contracts.length===1)o=[n.contracts[0]];else if(e.all)o=n.contracts;else{let s=n.contracts.map(f=>({name:f.name,value:f})),c=await It(s,"Choose which contracts to run detection on").run();o=Object.keys(c).map(f=>c[f])}o.map(s=>{let l=JSON.parse(s.metadata).output.abi,c=Cc((0,kc.detectFeatures)(l)),f=c.enabledFeatures.map(u=>({name:u.name,reference:`https://portal.thirdweb.com/interfaces/${u.name.toLowerCase()}`})),p=c.suggestedFeatures.map(u=>({name:u.name,reference:`https://portal.thirdweb.com/interfaces/${u.name.toLowerCase()}`}));return{name:s.name,enabledFeatures:f,suggestedFeatures:p}}).map(s=>{g.info(`
`),s.enabledFeatures.length===0?F(`No extensions detected on ${m.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}):(F(`Detected extension on ${m.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}),s.enabledFeatures.map(c=>{g.info(`\u2714\uFE0F ${m.green(c.name)}`)})),g.info(""),F("Suggested extensions").info(),s.suggestedFeatures.map(c=>{g.info(`${m.dim(m.gray("-"))} ${m.gray(c.name)} - ${m.dim(m.gray(c.reference))}`)});let l="npx thirdweb@latest deploy";if((0,ii.existsSync)(t+"/package.json")){let c=At(),f=c==="yarn";JSON.parse((0,ii.readFileSync)(t+"/package.json","utf-8"))?.scripts?.deploy===l&&(l=`${c}${f?"":" run"} deploy`)}g.info(""),F("Once you're done writing your contracts, you can run the following command to deploy them:").info(),g.info(""),g.info(`     ${m.cyan(l)}`),g.info("")})}function Cc(e,t=[],r=[],n="__ROOT__"){if(!e)return{enabledFeatures:t,suggestedFeatures:r};for(let i in e){let o=e[i];o.enabled?t.push(o):(t.findIndex(a=>a.name===n)>-1||_n.includes(o.name))&&r.push(o),Cc(o.features,t,r,o.name)}return{enabledFeatures:t,suggestedFeatures:r}}var Ac=_(require("inquirer"));var Pc=require("fs"),hr=class{constructor(){this.packageManagerType="npm"}matches(t){return(0,Pc.existsSync)(t+"/package-lock.json")}};var Rc=require("fs"),gr=class{constructor(){this.packageManagerType="yarn"}matches(t){return(0,Rc.existsSync)(t+"/yarn.lock")}};var Dc=require("fs"),yr=class{constructor(){this.packageManagerType="pnpm"}matches(t){return["/pnpm-lock.yaml","/pnpm-workspace.yaml","/.pnpm"].some(n=>(0,Dc.existsSync)(t+n))}};var Fc=require("fs"),br=class{constructor(){this.packageManagerType="pip"}matches(t){return(0,Fc.existsSync)(t+"/requirements.txt")}};var jc=require("fs"),wr=class{constructor(){this.packageManagerType="pipenv"}matches(t){return["/Pipfile","/Pipfile.lock"].some(n=>(0,jc.existsSync)(t+n))}};var $c=require("fs"),xr=class{constructor(){this.packageManagerType="poetry"}matches(t){return["/pyproject.toml","/poetry.lock"].some(n=>(0,$c.existsSync)(t+n))}};var Co=require("fs"),_r=class{constructor(){this.packageManagerType="brownie"}matches(t){let n=["/brownie-config.yaml","/brownie-config.json"].some(a=>(0,Co.existsSync)(t+a)),o=["/build","/contracts","/reports"].every(a=>(0,Co.existsSync)(t+a));return n||o||!1}};var Oc=require("fs"),vr=class{constructor(){this.packageManagerType="foundry"}matches(t){return["/foundry.toml","/lib/forge-std/"].some(i=>(0,Oc.existsSync)(t+i))||!1}};var Ic=require("fs"),Sr=class{constructor(){this.packageManagerType="go-modules"}matches(t){return(0,Ic.existsSync)(t+"/go.mod")}};async function st(e,t){let n=[new hr,new gr,new yr,new br,new wr,new xr,new Sr,new _r,new vr].filter(o=>o.matches(e)).map(o=>o.packageManagerType);if(!n.length)return"none";if(n.length===1)return n[0];if(n.includes("brownie")&&n.includes("pip"))return"brownie";D(`Detected multiple possible package managers: ${n.map(o=>`"${o}"`).join(", ")}`);let i="We detected multiple possible package managers, which one do you want to use?";return t.ci?n[0]:(await Ac.default.prompt({type:"list",choices:n,name:i}))[i]}var Ml=_(require("inquirer"));var Bo=require("fs");var No=_(require("@iarna/toml")),Te=require("fs"),Tl=_(require("path"));var kl=_(Mo());async function W(e,t,r=!1,n){return new Promise((i,o)=>{let a=(0,kl.spawn)(e,t);a.stdout?.on("data",s=>{n&&n(s),r&&console.log(s.toString())}),a.stderr?.on("data",s=>{r&&console.error(s.toString())}),a.on("error",s=>{console.log("Spawn error",s)}),a.on("close",s=>{if(s!==0){o({command:`${e}`,exitCode:s});return}i()})})}function El(e){return Object.entries(e).map(([t,r])=>{let n="";return typeof r=="string"?n=r:typeof r=="object"&&(n=r.version),n=n.replace("^",""),`${t}==${n}`})}var R=e=>{let t=JSON.parse(e.toString()),r=t.dependencies||{},n=t.devDependencies||{},i=t.peerDependencies||{};return{dependencies:r,devDependencies:n,peerDependencies:i}},tm=e=>({dependencies:e.toString().split(`
`)}),rm=e=>{let t=No.parse(e),r=t.packages||[],n=t["dev-packages"]||[];return{dependencies:r,devDependencies:n}},nm=e=>{let t=No.parse(e),r=t.tool.poetry.dependencies||[],n=t.tool.poetry["dev-dependencies"]||[];return{dependencies:El(r),devDependencies:El(n)}},We=e=>{let t=[],r=e.split(`
`);return r.forEach(n=>{if(n=n.trim(),n.startsWith("require (")){let i=r.indexOf(n)+1;for(;i<r.length&&r[i].trim()!==")";){let o=r[i].trim(),[a,s]=o.split(" ");t.push({name:a,version:s}),i++}}}),{dependencies:t}},Ge=(e,t)=>{let r=e.split(`
`);return r.forEach(()=>{if(r.includes(t))return!0}),!1},te=(e,t)=>{let r=[],n=[];switch(t){case"pip":if(!(0,Te.existsSync)(e+"/requirements.txt"))break;let o=(0,Te.readFileSync)(e+"/requirements.txt");r=tm(o).dependencies;break;case"pipenv":if(!(0,Te.existsSync)(e+"Pipfile"))break;let s=(0,Te.readFileSync)(e+"Pipfile","utf-8"),l=rm(s);r=l.dependencies,n=l.devDependencies;break;case"poetry":if(!(0,Te.existsSync)(e+"/pyproject.toml"))break;let f=(0,Te.readFileSync)(e+"/pyproject.toml","utf-8");r=nm(f).dependencies;break;default:break}return{dependencies:r,devDependencies:n}},im=async e=>{try{let t=(await import("node-fetch")).default,r=`https://registry.npmjs.org/${e}`,n=await t(r);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return(await n.json())["dist-tags"].latest}catch(t){console.error(`Failed to get latest version of ${e}:`,t)}},Lo=async(e,t,r,n,i)=>{let o="",a=[],s=[],l=[],c=i?.debug||!1;switch(e){case"npm":o="npm",a=["install"],s=["install","--legacy-peer-deps"];break;case"yarn":o="yarn",a=["add"],s=["add"];break;case"pnpm":o="pnpm",a=["install"],s=["update"];break;case"pip":o="pip",a=["install"],s=["install","--upgrade"];break;case"pipenv":o="pipenv",a=["install"],s=["update"];break;case"poetry":o="poetry",a=["add"],s=["update"];break;case"go-modules":o="go",a=["get"],s=["get","-u"];break;case"brownie":o="brownie",a=["pm","install"],s=["pm","update"],l=["pm","delete"];break;case"foundry":o="forge",a=["install","--no-commit"],s=["update"],l=["remove"];break;default:break}if(n==="install"){if(!t.length)return;let f=[...a,...t];await W(o,f,c),i?.oldVersion&&await W(o,[...l,i.oldVersion],c)}if(n==="update"){if(!r.length)return;let f=[...s,...r];await W(o,f,c)}},Cl=async e=>{let r=(await om()).match(e);return r!==null?{package:r[0],exists:!0}:{package:"",exists:!1}},om=async()=>{let e="";return await W("brownie",["pm","list"],!0,t=>{e+=t.toString()}),e=e.replace(/\u001b\[\d+(;\d+)*m/g,""),e},Pl=async(e,t)=>{let r=Tl.default.join(e,"lib",t);return(0,Te.existsSync)(r)},Rl=e=>{let r=(0,Te.readFileSync)(e+"/go.mod","utf-8").split(`
`),n=[];for(let i of r)if(i.includes("github.com/thirdweb-dev")){let o=i.split(/\s+/),a=o[1].trim(),s=o[2];n.push({name:a,version:s})}return n},Dl=async e=>{let{detectedPackageManager:t,thirdwebDepsToUpdate:r,thirdwebDepsToInstall:n,isJSPackageManager:i}=e;if(i&&(r.has("@thirdweb-dev/contracts")||n.add("@thirdweb-dev/contracts")),t==="brownie"){let o=await im("@thirdweb-dev/contracts");if(r.has(`thirdweb-dev/contracts@${o}`))return Promise.reject("You already have the latest version of thirdweb-dev/contracts installed.");r.has(`thirdweb-dev/contracts@${o}`)||n.add(`thirdweb-dev/contracts@${o}`)}t==="foundry"&&(r.has("lib/thirdweb-contracts")||n.add("thirdweb-contracts=thirdweb-dev/contracts"))},Fl=async e=>{let{detectedFramework:t,thirdwebDepsToUpdate:r,thirdwebDepsToInstall:n,hasEthers:i,isJSPackageManager:o,otherDeps:a,isPythonPackageManager:s,isGoPackageManager:l,detectedLibrary:c}=e,p=["react","react-native","next","gatsby","cra","remix","vue","vite","svelte"].includes(t),u=c==="react-native";o&&(!r.has("@thirdweb-dev/react")&&p&&n.add("@thirdweb-dev/react"),!r.has("@thirdweb-dev/sdk")&&!u&&n.add("@thirdweb-dev/sdk"),!r.has("@thirdweb-dev/react-native")&&u&&n.add("@thirdweb-dev/react-native"),!r.has("@thirdweb-dev/react-native-compat")&&u&&n.add("@thirdweb-dev/react-native-compat"),i||a.add("ethers@5")),s&&(r.has("thirdweb-sdk")||n.add("thirdweb-sdk")),l&&(r.has("github.com/thirdweb-dev/go-sdk/v2")||n.add("github.com/thirdweb-dev/go-sdk/v2"))};var kr=class{constructor(){this.frameworkType="brownie"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r),a=["/brownie-config.yaml","/brownie-config.json"].some(c=>(0,Bo.existsSync)(t+c)),l=["/build","/contracts","/reports"].every(c=>(0,Bo.existsSync)(t+c));return!!n.find(c=>c.includes("brownie"))||!!i.find(c=>c.includes("brownie"))||a||l||!1}};var ai=require("fs");var Er=class{constructor(){this.frameworkType="cra"}matches(t){let r=t+"/package.json";if(!(0,ai.existsSync)(r))return!1;let n=(0,ai.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n);return!!i["react-scripts"]||!!o["react-scripts"]||!1}};var jl=require("fs");var Tr=class{constructor(){this.frameworkType="django"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r),a=["/manage.py"].some(s=>(0,jl.existsSync)(t+s));return!!n.find(s=>s.includes("Django"))||!!i.find(s=>s.includes("Django"))||a||!1}};var ct=require("fs");var Cr=class{constructor(){this.frameworkType="echo"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,ct.existsSync)(r)&&!(0,ct.existsSync)(n))return!1;if((0,ct.existsSync)(r)){let s=(0,ct.readFileSync)(r,"utf-8"),{dependencies:l}=We(s);i=["github.com/labstack/echo"].some(f=>l.some(p=>p.name===f))}let o=(0,ct.readFileSync)(n,"utf-8"),a=Ge(o,"github.com/labstack/echo");return i||a||!1}};var Pr=require("fs");var Rr=class{constructor(){this.frameworkType="expo"}matches(t){let r=t+"/package.json";if(!(0,Pr.existsSync)(r))return!1;let n=(0,Pr.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n),s=["/app.json","/app.config.js"].some(c=>(0,Pr.existsSync)(t+c));return!!i.expo||!!o.expo||s||!1}};var $l=require("fs");var Dr=class{constructor(){this.frameworkType="fastapi"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r),a=[].some(s=>(0,$l.existsSync)(t+s));return!!n.find(s=>s.includes("fastapi"))||!!i.find(s=>s.includes("fastapi"))||a||!1}};var Fr=require("fs");var jr=class{constructor(){this.frameworkType="fastify"}matches(t){let r=t+"/package.json";if(!(0,Fr.existsSync)(r))return!1;let n=(0,Fr.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n),s=[].some(c=>(0,Fr.existsSync)(t+c));return!!i.fastify||!!o.fastify||s||!1}};var lt=require("fs");var $r=class{constructor(){this.frameworkType="fiber"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,lt.existsSync)(r)&&!(0,lt.existsSync)(n))return!1;if((0,lt.existsSync)(r)){let s=(0,lt.readFileSync)(r,"utf-8"),{dependencies:l}=We(s);i=["github.com/gofiber/fiber"].some(f=>l.some(p=>p.name===f))}let o=(0,lt.readFileSync)(n,"utf-8"),a=Ge(o,"github.com/gofiber/fiber");return i||a||!1}};var Ol=require("fs");var Or=class{constructor(){this.frameworkType="flask"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r),a=[].some(s=>(0,Ol.existsSync)(t+s));return!!n.find(s=>s.includes("Flask"))||!!i.find(s=>s.includes("Flask"))||a||!1}};var Il=require("fs"),Ir=class{constructor(){this.frameworkType="foundry"}matches(t){return["/foundry.toml","/lib/forge-std/"].some(i=>(0,Il.existsSync)(t+i))||!1}};var Ar=require("fs");var Mr=class{constructor(){this.frameworkType="gatsby"}matches(t){let r=t+"/package.json";if(!(0,Ar.existsSync)(r))return!1;let n=(0,Ar.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n),s=["/gatsby.config.js","/gatsby-config.ts"].some(c=>(0,Ar.existsSync)(t+c));return!!i.gatsby||!!o.gatsby||s||!1}};var ft=require("fs");var Nr=class{constructor(){this.frameworkType="gin"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,ft.existsSync)(r)&&!(0,ft.existsSync)(n))return!1;if((0,ft.existsSync)(r)){let s=(0,ft.readFileSync)(r,"utf-8"),{dependencies:l}=We(s);i=["github.com/gin-gonic/gin"].some(f=>l.some(p=>p.name===f))}let o=(0,ft.readFileSync)(n,"utf-8"),a=Ge(o,"github.com/gin-gonic/gin");return i||a||!1}};var Lr=require("fs");var Br=class{constructor(){this.frameworkType="hardhat"}matches(t){let r=t+"/package.json";if(!(0,Lr.existsSync)(r))return!1;let n=(0,Lr.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n),s=["/hardhat.config.js"].some(c=>(0,Lr.existsSync)(t+c));return!!i.hardhat||!!o.hardhat||s||!1}};var qr=require("fs");var Ur=class{constructor(){this.frameworkType="next"}matches(t){let r=t+"/package.json";if(!(0,qr.existsSync)(r))return!1;let n=(0,qr.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n),s=["/next.config.js","/next-config.ts"].some(c=>(0,qr.existsSync)(t+c));return!!i.next||!!o.next||s||!1}};var Al=require("fs");var Wr=class{constructor(){this.frameworkType="populus"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r),a=["/populus.json","/populus.yaml"].some(s=>(0,Al.existsSync)(t+s));return!!n.find(s=>s==="populus")||!!i.find(s=>s==="populus")||a||!1}};var Gr=require("fs");var Jr=class{constructor(){this.frameworkType="react-native-cli"}matches(t){let r=t+"/package.json";if(!(0,Gr.existsSync)(r))return!1;let n=(0,Gr.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n),s=[].some(l=>(0,Gr.existsSync)(t+l));return!!i["react-native"]||!!o["react-native"]||s||!1}};var Vr=require("fs");var Hr=class{constructor(){this.frameworkType="remix"}matches(t){let r=t+"/package.json";if(!(0,Vr.existsSync)(r))return!1;let n=(0,Vr.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n),s=["/remix.config.js","/remix-config.ts"].some(c=>(0,Vr.existsSync)(t+c));return Object.keys(i).concat(Object.keys(o)).filter(c=>c.startsWith("@remix-run/")).length>0||s||!1}};var pt=require("fs");var zr=class{constructor(){this.frameworkType="revel"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,pt.existsSync)(r)&&!(0,pt.existsSync)(n))return!1;if((0,pt.existsSync)(r)){let s=(0,pt.readFileSync)(r,"utf-8"),{dependencies:l}=We(s);i=["github.com/revel/revel"].some(f=>l.some(p=>p.name===f))}let o=(0,pt.readFileSync)(n,"utf-8"),a=Ge(o,"github.com/revel/revel");return i||a||!1}};var Yr=require("fs");var Kr=class{constructor(){this.frameworkType="truffle"}matches(t){let r=t+"/package.json";if(!(0,Yr.existsSync)(r))return!1;let n=(0,Yr.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n),s=["/truffle.config.js","/truffle.js"].some(l=>(0,Yr.existsSync)(t+l));return!!i.truffle||!!o.truffle||s||!1}};var si=require("fs");var Xr=class{constructor(){this.frameworkType="vite"}matches(t){let r=t+"/package.json";if(!(0,si.existsSync)(r))return!1;let n=(0,si.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n);return!!i.vite||!!o.vite||!1}};var Zr=require("fs");var Qr=class{constructor(){this.frameworkType="vue"}matches(t){let r=t+"/package.json";if(!(0,Zr.existsSync)(r))return!1;let n=(0,Zr.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n),s=["/vue.config.js"].some(l=>(0,Zr.existsSync)(t+l));return!!i.vue||!!o.vue||s||!1}};var ci=require("fs"),en=class{constructor(){this.frameworkType="zenject"}matches(t){let r=(0,ci.existsSync)(t+"/Assets/Zenject"),n=(0,ci.existsSync)(t+"/Assets/Zenject/OptionalExtras/Zenject.dll"),i=(0,ci.existsSync)(t+"/Assets/Scripts/ProjectContext.cs");return r||n||i||!1}};async function ut(e,t,r){let i=[new kr,new Er,new Tr,new Cr,new Rr,new Dr,new jr,new $r,new Or,new Ir,new Mr,new Nr,new Br,new Ur,new Wr,new Jr,new Hr,new zr,new Kr,new Qr,new Xr,new en].filter(a=>a.matches(e,r)).map(a=>a.frameworkType);if(!i.length)return"none";if(i.length===1)return i[0];if(i.includes("expo")&&i.includes("react-native-cli"))return"expo";D(`Detected multiple possible frameworks: ${i.map(a=>`"${a}"`).join(", ")}`);let o="We detected multiple possible frameworks which one do you want to use?";return t.ci?i[0]:(await Ml.default.prompt({type:"list",choices:i,name:o}))[o]}var Nl=_(require("inquirer"));var li=require("fs");var tn=class{constructor(){this.libraryType="express"}matches(t){let r=t+"/package.json";if(!(0,li.existsSync)(r))return!1;let n=(0,li.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n);return i.express||o.express||!1}};var qo=require("fs"),rn=class{constructor(){this.libraryType="playmaker"}matches(t){let r=(0,qo.existsSync)(t+"/Assets/PlayMaker"),n=(0,qo.existsSync)(t+"/Editor/PlayMaker.dll");return r||n||!1}};var fi=require("fs");var nn=class{constructor(){this.libraryType="react"}matches(t){let r=t+"/package.json";if(!(0,fi.existsSync)(r))return!1;let n=(0,fi.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n);return i.react||o.react||!1}};var pi=require("fs");var on=class{constructor(){this.libraryType="react-native"}matches(t){let r=t+"/package.json";if(!(0,pi.existsSync)(r))return!1;let n=(0,pi.readFileSync)(r),{dependencies:i,devDependencies:o}=R(n);return i["react-native"]||o["react-native"]||!1}};var an=class{constructor(){this.libraryType="web3py"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r);return!!n.find(o=>o.includes("web3"))||!!i.find(o=>o.includes("web3"))||!1}};async function sn(e,t,r){let i=[new tn,new nn,new on,new an,new rn].filter(a=>a.matches(e,r)).map(a=>a.libraryType);if(!i.length)return"none";if(i.length===1)return i[0];if(i.includes("react-native")&&i.includes("react"))return"react-native";D(`Detected multiple possible libraries: ${i.map(a=>`"${a}"`).join(", ")}`);let o="We detected multiple possible libraries which one do you want to use?";return t.ci?i[0]:(await Nl.default.prompt({type:"list",choices:i,name:o}))[o]}var Wl=_(require("inquirer"));var Ll=require("fs"),cn=class{constructor(){this.languageType="javascript"}matches(t){let r=/\.js$/;return(0,Ll.readdirSync)(t).some(i=>i.match(r))}};var Bl=require("fs"),ln=class{constructor(){this.languageType="typescript"}matches(t){let r=/\.ts$/;return(0,Bl.readdirSync)(t).some(i=>i.match(r))}};var ql=require("fs"),fn=class{constructor(){this.languageType="python"}matches(t){let r=/\.py$/;return(0,ql.readdirSync)(t).some(i=>i.match(r))}};var Ul=require("fs"),pn=class{constructor(){this.languageType="go"}matches(t){let r=/\.go$/;return(0,Ul.readdirSync)(t).some(i=>i.match(r))}};async function Uo(e,t){let n=[new cn,new ln,new fn,new pn].filter(o=>o.matches(e)).map(o=>o.languageType);if(!n.length)return"none";if(n.length===1)return n[0];if(n.includes("typescript")&&n.includes("javascript"))return"typescript";D(`Detected multiple possible languages: ${n.map(o=>`"${o}"`).join(", ")}`);let i="We detected multiple possible languages which one do you want to use?";return t.ci?n[0]:(await Wl.default.prompt({type:"list",choices:n,name:i}))[i]}var Gl=_(require("path"));var ui=["brownie","foundry","hardhat","truffle","solc","none"];var Jl=require("@thirdweb-dev/sdk");var di=require("fs");async function Vl(e){g.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(g.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:Gl.default.resolve(`${t}/${e.path}`)),g.debug("Processing project at path "+t);let r=await st(t,e),n=await Uo(t,e),i=await sn(t,e,r),o=await ut(t,e,r),a=o!=="none"&&ui.includes(o)?"contract":"app",s=a==="contract"?o:"none";if(g.info("Detected package manager: "+r),g.info("Detected library: "+i),g.info("Detected language: "+n),g.info("Detected framework: "+o),g.info("Detected app type: "+a),a==="contract"){let l,c=ne("Compiling project...");try{l=await ot(t,s,e)}catch(u){c.fail("Compilation failed"),g.error(u),process.exit(1)}c.succeed("Compilation successful");let f=[];if(l.contracts.length===1)f=[l.contracts[0]];else if(e.all)f=l.contracts;else{let u=l.contracts.map(d=>({name:d.name,value:d})),y=await It(u,"Choose which contracts to run detection on").run();f=Object.keys(y).map(d=>y[d])}f.map(u=>{let b=JSON.parse(u.metadata).output.abi,y=Hl((0,Jl.detectFeatures)(b)),d=y.enabledFeatures.map(w=>({name:w.name,reference:`https://portal.thirdweb.com/interfaces/${w.name.toLowerCase()}`})),x=y.suggestedFeatures.map(w=>({name:w.name,reference:`https://portal.thirdweb.com/interfaces/${w.name.toLowerCase()}`}));return{name:u.name,enabledFeatures:d,suggestedFeatures:x}}).map(u=>{g.info(`
`),u.enabledFeatures.length===0?F(`No extensions detected on ${m.blueBright(u.name)}`).stopAndPersist({symbol:"\u{1F50E}"}):(F(`Detected extension on ${m.blueBright(u.name)}`).stopAndPersist({symbol:"\u{1F50E}"}),u.enabledFeatures.map(y=>{g.info(`\u2714\uFE0F ${m.green(y.name)}`)})),g.info(""),F("Suggested extensions").info(),u.suggestedFeatures.map(y=>{g.info(`${m.dim(m.gray("-"))} ${m.gray(y.name)} - ${m.dim(m.gray(y.reference))}`)});let b="npx thirdweb@latest deploy";if((0,di.existsSync)(t+"/package.json")){let y=At(),d=y==="yarn";JSON.parse((0,di.readFileSync)(t+"/package.json","utf-8"))?.scripts?.deploy===b&&(b=`${y}${d?"":" run"} deploy`)}g.info(""),F("Once you're done writing your contracts, you can run the following command to deploy them:").info(),g.info(""),g.info(`     ${m.cyan(b)}`),g.info("")})}}function Hl(e,t=[],r=[],n="__ROOT__"){if(!e)return{enabledFeatures:t,suggestedFeatures:r};for(let i in e){let o=e[i];o.enabled?t.push(o):(t.findIndex(a=>a.name===n)>-1||_n.includes(o.name))&&r.push(o),Hl(o.features,t,r,o.name)}return{enabledFeatures:t,suggestedFeatures:r}}var zl="0x0000000000000000000000000000000000000000",Wo={upgradeable:{name:"RouterUpgradeableFactory",metadataUri:"ipfs://QmdqXhoJg9RfDDURHxtHKDprh3VvyWEwZWVtQvnvXMannF",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/1"},"non-upgradeable":{name:"RouterImmutableFactory",metadataUri:"ipfs://QmPMmcxK7RwQfcRwS8kmFU2hLWRLWpgcsESeXeFHM8W3Wp",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/0"},"thirdweb-router":{name:"TWRouterFactory",metadataUri:"ipfs://QmbrV9NUBZAXqoSHpdTzxsZjtubdqumgt6WTMLV8RW3tkV",bytecodeUri:"ipfs://QmYjMfB1uhnnsdz6qmmc3bBAv8jmnniCkjXpDU6jGN8H5s/1"}};var Go="https://thirdweb.com",Jo=Yl(),Lt=Jo.version;var Vo=require("@thirdweb-dev/storage");var un=require("ethers"),dn=require("fs");var Kl=_(require("path"));async function mn(e,t){let r=new Vo.ThirdwebStorage;g.setSettings({minLevel:e.debug?"debug":"info"});let n=process.cwd();e.path&&(g.debug("Overriding project path to "+e.path),n=e.path.startsWith("/")?e.path:Kl.default.resolve(`${n}/${e.path}`)),g.debug("Processing project at path "+n);let i=e.zksync?"hardhat":await at(n,e);if(i==="none"){if(t==="deploy")return D("No contracts detected in this directory. Redirecting to the thirdweb contract explore page."),"https://thirdweb.com/explore";fr("No detected contracts in this directory."),g.info(""),F("Detected contract files must end with the '.sol' extension and exist in this directory or the '/contracts' subdirectory").info(),g.info(""),F("To create a new contracts project, run the following command:").info(),g.info(""),g.info(`     ${m.cyan("npx thirdweb@latest create --contract")}`),g.info(""),process.exit(1)}if(e.ci){g.info("Installing dependencies...");try{switch(i){case"foundry":{await K("npm install",n),await K("forge install",n);break}default:{await K("npm install",n);break}}}catch(u){g.warn("Could not install dependencies",u)}}let o,a=ne("Compiling project...");try{o=await ot(n,i,e)}catch(u){a.fail("Compilation failed"),g.error(u),process.exit(1)}a.succeed("Compilation successful"),o.contracts.length===0&&(g.error("No deployable contract detected. Run with the '--debug' option to see what contracts were skipped and why."),process.exit(1));let s={name:"",metadataUri:"",bytecodeUri:""};if(e.dynamic){let u=Object.keys(Wo).map(d=>({title:d,value:d})),b="",y=await Sc(u,"Choose a router to deploy");typeof y.routerType=="string"&&(b=y.routerType.trim()),s=Wo[b]}e.dynamic&&!s&&(fr("No router selected. Please select a router contract to deploy."),process.exit(1)),e.dynamic&&!s.name&&(fr("No router selected. Please select a router contract to deploy."),process.exit(1));let l=[];if(o.contracts.length===1)l=[o.contracts[0]],D(`Processing contract: ${m.blueBright(l.map(u=>`"${u.name}"`).join(", "))}`);else if(e.ci)l=o.contracts;else{let u=o.contracts.filter(x=>typeof e.file=="string"&&e.file.length>0?x.fileName.includes(e.file):!0).filter(x=>typeof e.contractName=="string"&&e.contractName.length>0?x.name.includes(e.contractName):!0);u.length===0&&(g.error("No contracts found matching the specified filters."),process.exit(1));let b=u.map(x=>o.contracts.filter(w=>w.name===x.name).length>1?{name:`${x.name} - ${m.gray(x.fileName)}`,value:x}:{name:x.name,value:x}),d=await It(b,e.dynamic?"Choose which extensions to add to your contract":`Choose which contract(s) to ${t}`).run();l=Object.keys(d).map(x=>d[x])}l.length===0&&(fr(`No contract selected. Please select at least one contract to ${t}.`),process.exit(1)),e.dryRun&&(D("Dry run, skipping deployment"),process.exit(0));let c="@thirdweb-dev/contracts",f=!1;if(e.dynamic)if(s.name==="thirdweb-router"){let u={extensionRegistry:zl,extensionNames:l.map(y=>y.name)},b=JSON.stringify(u,void 0,2);(0,dn.writeFileSync)("./deployArgs.json",b,"utf-8"),D("Deployment parameters written to deployArgs.json in your project directory")}else{let u=await cm(l),b=JSON.stringify(u,void 0,2);(0,dn.writeFileSync)("./deployArgs.json",b,"utf-8"),D("Deployment parameters written to deployArgs.json in your project directory")}let p=ne("Uploading contract data...");try{for(let w=0;w<l.length;w++){let v=l[w];if(v.sources)for(let C=0;C<v.sources.length;C=C+3){let O=v.sources.slice(C,C+3);g.debug(`Uploading Sources:
${O.join(`
`)}
`),await Promise.all(O.map(async q=>{let z=(0,dn.readFileSync)(q,"utf-8");return z.includes(c)&&(f=!0),await r.upload(z,{uploadWithoutDirectory:!0})}))}}let u=await Promise.all(l.map(async w=>(g.debug(`Uploading ${w.name}...`),await r.upload(JSON.parse(JSON.stringify(w.metadata)),{uploadWithoutDirectory:!0})))),b=l.map(w=>w.bytecode),y=await r.uploadBatch(b),d=[];if(e.dynamic){let w={command:t,contract_name:s.name,cli_version:Lt,project_type:i,from_ci:e.ci||!1,uses_contract_extensions:f};d.push({name:s.name,metadataUri:s.metadataUri,bytecodeUri:s.bytecodeUri,analytics:w})}else d=l.map((w,v)=>{let $={command:t,contract_name:w.name,cli_version:Lt,project_type:i,from_ci:e.ci||!1,uses_contract_extensions:f};return{name:w.name,metadataUri:u[v],bytecodeUri:y[v],analytics:$}});let x=[];if(d.length===1){let w=await r.upload(d[0],{uploadWithoutDirectory:!0});x.push(w)}else x=await r.uploadBatch(d);return p.succeed("Upload successful"),sm(x,t)}catch(u){throw p.fail("Error uploading metadata"),u}}function sm(e,t){let r;if(e.length===1)r=new URL(Go+`/contracts/${t}/`+encodeURIComponent(e[0].replace("ipfs://","")));else{r=new URL(Go+"/contracts/"+t);for(let n of e)r.searchParams.append("ipfs",n.replace("ipfs://",""))}return r}async function cm(e){let t=new Vo.ThirdwebStorage,r=[],n=[];for(let i of e){let o={name:i.name,metadataURI:await lm(i,t),implementation:un.ethers.constants.AddressZero},a=JSON.parse(i.metadata).output.abi,s=new un.ethers.utils.Interface(a),l=[],c=s.functions;for(let f of Object.keys(c))l.push({functionSelector:s.getSighash(c[f]),functionSignature:f});r.push({metadata:o,functions:l}),n.push({name:i.name,amount:0,salt:un.ethers.utils.keccak256(un.ethers.utils.toUtf8Bytes(i.name)),bytecode:i.bytecode})}return{extensions:r,extensionDeployArgs:n}}async function lm(e,t){return await t.upload(JSON.parse(JSON.stringify(e.metadata)),{uploadWithoutDirectory:!0})}var Xl="2.7.6";function Zl(){return new Promise(async(e,t)=>{try{await W("ruby",["-v"],!1,r=>{let i=String(r).split(" ")[1];i.includes(Xl)?e():(console.log(),console.error(`Your current ruby version: ${m.red(`"${i}"`)}, is not supported by this project.`),console.error(`Please, set your ruby version to ${m.green(`"${Xl}"`)} and try again.`),console.error("For more information, please visit the React Native documentation: https://reactnative.dev/docs/environment-setup#ruby"),console.log(),process.exit(1))})}catch(r){t(r)}})}var Ql=_(require("got/dist/source")),ef=async e=>{try{return(await Ql.default.get(`https://raw.githubusercontent.com/thirdweb-example/${e}/main/package.json`).json())?.scripts?.dev?"dev":"start"}catch{return}};var Je=require("child_process"),tf=_(require("path")),rf=_(require("rimraf"));function fm(){try{return(0,Je.execSync)("git rev-parse --is-inside-work-tree",{stdio:"ignore"}),!0}catch{}return!1}function pm(){try{return(0,Je.execSync)("hg --cwd . root",{stdio:"ignore"}),!0}catch{}return!1}function mi(e){let t=!1;try{return(0,Je.execSync)("git --version",{stdio:"ignore"}),fm()||pm()?!1:((0,Je.execSync)("git init",{stdio:"ignore"}),t=!0,(0,Je.execSync)("git checkout -b main",{stdio:"ignore"}),(0,Je.execSync)("git add -A",{stdio:"ignore"}),(0,Je.execSync)('git commit -m "Initial commit from npx thirdweb create"',{stdio:"ignore"}),!0)}catch{if(t)try{rf.default.sync(tf.default.join(e,".git"))}catch{}return!1}}var nf=_(Mo());function hn(e,t,{packageManager:r,isOnline:n,devDependencies:i}){let o=[],a=[];return new Promise((s,l)=>{let c,f=r,p=r==="yarn";t&&t.length?p?(c=["add","--exact"],n||c.push("--offline"),c.push("--cwd",e),i&&c.push("--dev"),c.push(...t)):(c=["install","--save-exact"],c.push(i?"--save-dev":"--save"),c.push(...t)):(c=["install"],n||(console.log(m.yellow("You appear to be offline.")),p?(console.log(m.yellow("Falling back to the local Yarn cache.")),console.log(),c.push("--offline")):console.log())),p?c.push(...a):c.push(...o),(0,nf.default)(f,c,{stdio:"inherit",env:{...process.env,ADBLOCK:"1",DISABLE_OPENCOLLECTIVE:"1"}}).on("close",b=>{if(b!==0){l({command:`${f} ${c.join(" ")}`});return}s()})})}var Ho=_(require("fs")),of=_(require("path"));function hi(e,t){let r=[".DS_Store",".git",".gitattributes",".gitignore",".gitlab-ci.yml",".hg",".hgcheck",".hgignore",".idea",".npmignore",".travis.yml","LICENSE","Thumbs.db","docs","mkdocs.yml","npm-debug.log","yarn-debug.log","yarn-error.log"],n=Ho.default.readdirSync(e).filter(i=>!r.includes(i)).filter(i=>!/\.iml$/.test(i));if(n.length>0){console.log(`The directory ${m.green(t)} contains files that could conflict:`),console.log();for(let i of n)try{Ho.default.lstatSync(of.default.join(e,i)).isDirectory()?console.log(`  ${m.blue(i)}/`):console.log(`  ${i}`)}catch{console.log(`  ${i}`)}return console.log(),console.log("Either try using a new directory name, or remove the files listed above."),console.log(),!1}return!0}var af=require("child_process"),zo=_(require("dns")),sf=_(require("url"));function um(){if(process.env.https_proxy)return process.env.https_proxy;try{let e=(0,af.execSync)("npm config get https-proxy").toString().trim();return e!=="null"?e:void 0}catch{return}}function gi(){return new Promise(e=>{zo.default.lookup("registry.yarnpkg.com",t=>{if(!t)return e(!0);let r=um();if(!r)return e(!1);let{hostname:n}=sf.default.parse(r);if(!n)return e(!1);zo.default.lookup(n,i=>{e(i===null)})})})}var yi=_(require("fs"));async function bi(e){try{return await yi.default.promises.access(e,(yi.default.constants||yi.default).W_OK),!0}catch{return!1}}var cf=_(require("fs"));function wi(e,t={recursive:!0}){return cf.default.promises.mkdir(e,t)}var lf=_(require("path"));function ff(e,t){return new Promise(async(r,n)=>{t||(console.log(m.yellow("You appear to be offline.")),console.log(),n());try{await W("bundle",["install"],!0)}catch(i){n(i)}console.log("Running pod install...");try{process.chdir(lf.default.join(e,"ios")),await W("pod",["install"],!0),process.chdir(e),r()}catch(i){process.chdir(e),n(i)}})}var Yo=_(require("got")),pf=require("stream"),uf=_(require("tar")),df=require("util"),dm=(0,df.promisify)(pf.Stream.pipeline);async function mm(e){return(await Yo.default.head(e).catch(r=>r)).statusCode===200}function Ko(e){return mm(`https://api.github.com/repos/thirdweb-example/${encodeURIComponent(e)}`)}function gn(e,{name:t,filePath:r}){return dm(Yo.default.stream(`https://codeload.github.com/thirdweb-example/${t}/tar.gz/main`),uf.default.extract({cwd:e,strip:r?r.split("/").length+1:1},[`${t}-main${r?`/${r}`:""}`]))}var Xo=_(require("async-retry"));var yn=_(require("fs")),Zo=_(require("os")),dt=_(require("path")),Ve=class extends Error{};async function mf({appPath:e,packageManager:t,framework:r,language:n,template:i,chain:o}){let a="";i?await Ko(i)||(console.error(`Could not locate the repository for ${m.red(`"${i}"`)}. Please check that the repository exists and try again.`),process.exit(1)):r&&(a=`${r}-${n||"javascript"}-${o==="solana"?"solana-":""}starter`,await Ko(a)||(console.error(`Something went wrong with the ${m.red(`"${r}"`)} framework. Please try again.`),process.exit(1)));let s=i?.includes("react-native")||r==="react-native";function l(){return s&&(n==="typescript"||i&&!i.includes("expo"))}function c(){return process.platform==="darwin"}l()&&c()&&await Zl();let f=dt.default.resolve(e);await bi(dt.default.dirname(f))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1));let p=dt.default.basename(f);await wi(f),hi(f,p)||process.exit(1);let u=t==="yarn",b=!u||await gi(),y=process.cwd();console.log(`Creating a new thirdweb app in ${m.green(f)}.`),console.log(),process.chdir(f);function d(v){return typeof v=="object"&&v!==null&&typeof v.message=="string"}if(i){try{console.log(`Downloading files from repo ${m.cyan(i)}. This might take a moment.`),console.log(),await(0,Xo.default)(()=>gn(f,{name:i,filePath:""}),{retries:3})}catch(C){throw new Ve(d(C)?C.message:String(C))}let v=dt.default.join(f,"package.json"),$=yn.default.readFileSync(v);try{let C=JSON.parse($.toString());C&&(C.name=p),yn.default.writeFileSync(v,JSON.stringify(C,null,2)+Zo.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await hn(f,null,{packageManager:t,isOnline:b}),console.log()}else if(r){try{console.log(`Downloading files with framework ${m.cyan(r)}. This might take a moment.`),await(0,Xo.default)(()=>gn(f,{name:a,filePath:""}),{retries:3})}catch(v){throw new Ve(d(v)?v.message:String(v))}try{let v=dt.default.join(f,"package.json"),$=yn.default.readFileSync(v),C=JSON.parse($.toString());C&&(C.name=p),yn.default.writeFileSync(v,JSON.stringify(C,null,2)+Zo.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await hn(f,null,{packageManager:t,isOnline:b}),console.log()}l()&&c()&&await ff(f,b),mi(f)&&(console.log("Initialized a git repository."),console.log());let x;dt.default.join(y,p)===e?x=p:x=e;let w;r&&(r==="next"||r==="vite")?w="dev":i&&(w=await ef(i)),console.log(`${m.green("Success!")} Created ${p} at ${e}`),console.log("Inside that directory, you can run several commands:"),console.log(),s?(console.log(m.cyan(`  ${t}${u||w==="start"?"":"run "} android`)),console.log("    Runs your app on an Android emulator or device."),console.log(),console.log(m.cyan(`  ${t}${u||w==="start"?"":"run "} ios`)),console.log("    Runs your app on an iOS emulator or device."),console.log()):w&&(console.log(m.cyan(`  ${t} ${u||w==="start"?"":"run "}${w}`)),console.log("    Starts the development server."),console.log(),console.log(m.cyan(`  ${t} ${u||w==="start"?"":"run "}build`)),console.log("    Builds the app for production."),console.log()),console.log("We suggest that you begin by typing:"),console.log(),console.log(m.cyan("  cd"),x),w&&!s&&console.log(`  ${m.cyan(`${t} ${u||w==="start"?"":"run "}${w}`)}`),console.log()}var hm={ERC721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Base.sol";

contract Contract is ERC721Base {

      constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC721Base(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,ERC721SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721SignatureMint.sol";

contract Contract is ERC721SignatureMint {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721SignatureMint(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC721LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721LazyMint.sol";

contract Contract is ERC721LazyMint {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721LazyMint(_name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721DelayedReveal.sol";

contract Contract is ERC721DelayedReveal {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721DelayedReveal(_name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Drop.sol";

contract Contract is ERC721Drop {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721Drop(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Base.sol";

contract Contract is ERC1155Base {

      constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC1155Base(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,Staking721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking721Base.sol";

contract Contract is Staking721Base {
      constructor(
        uint256 _timeUnit,
        uint256 _rewardsPerUnitTime,
        address _nftCollection,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking721Base(
            _timeUnit,
            _rewardsPerUnitTime,
            _nftCollection,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC1155SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155SignatureMint.sol";

contract Contract is ERC1155SignatureMint {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155SignatureMint(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155LazyMint.sol";

contract Contract is ERC1155LazyMint {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155LazyMint(_name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155DelayedReveal.sol";

contract Contract is ERC1155DelayedReveal {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155DelayedReveal(_name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Drop.sol";

contract Contract is ERC1155Drop {
    constructor(
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155Drop(
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,Staking1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking1155Base.sol";

contract Contract is Staking1155Base {
      constructor(
        uint256 _defaultTimeUnit,
        uint256 _defaultRewardsPerUnitTime,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking1155Base(
            _defaultTimeUnit,
            _defaultRewardsPerUnitTime,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Base.sol";

contract Contract is ERC20Base {
      constructor(
        string memory _name,
        string memory _symbol
    )
        ERC20Base(
            _name,
            _symbol
        )
    {}
}`,ERC20Vote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Vote.sol";

contract Contract is ERC20Vote {
      constructor(
        string memory _name,
        string memory _symbol
    )
        ERC20Vote(
            _name,
            _symbol
        )
    {}
}`,ERC20SignatureMint:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMint.sol";

contract Contract is ERC20SignatureMint {
      constructor(
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMint(
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20SignatureMintVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMintVote.sol";

contract Contract is ERC20SignatureMintVote {
      constructor(
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMintVote(
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20Drop:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Drop.sol";

contract Contract is ERC20Drop {
      constructor(
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20Drop(
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20DropVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20DropVote.sol";

contract Contract is ERC20DropVote {
      constructor(
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20DropVote(
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,Staking20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking20Base.sol";

contract Contract is Staking20Base {
      constructor(
        uint256 _timeUnit,
        uint256 _rewardRatioNumerator,
        uint256 _rewardRatioDenominator,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking20Base(
            _timeUnit,
            _rewardRatioNumerator,
            _rewardRatioDenominator,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`},Qo=hm;function hf(e){return Qo[e]!==void 0}function ea(e){return Qo[e]}function ta(e){let t=gm(e).toUpperCase(),r=ym(e);return`// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;

library ${e}Storage {
  bytes32 public constant ${t}_STORAGE_POSITION = keccak256("${r}.storage");

  // Define your contract's state inside the Data struct.
  struct Data {
    // Example: a uint called "number"
    uint256 number;
  }

  /**
    *  Access your state variables using the following pattern (example):
    *  ${e}Storage.Data storage data = ${e}Storage.getStorage();
  **/
  function getStorage() internal pure returns (Data storage data) {
    bytes32 position = ${t}_STORAGE_POSITION;
    assembly {
      data.slot := position
    }
  }
}
  
contract ${e} {

  function readContractState() external view returns (uint256) {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    return data.number;
  }

  function writeContractState(uint256 x) external {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    data.number = x;
  }
}`}function gf(e,t){return e.replace(/(.)([A-Z][a-z]+)/,`$1${t}$2`).replace(/([a-z0-9])([A-Z])/,`$1${t}$2`).toLowerCase()}function gm(e){return gf(e,"_")}function ym(e){return gf(e,".")}var Bt=require("fs/promises");async function yf(){await(0,Bt.rm)("script",{recursive:!0,force:!0}),await(0,Bt.rm)(".gitmodules",{recursive:!0,force:!0}),await(0,Bt.rm)("lib",{recursive:!0,force:!0}),await(0,Bt.writeFile)(".gitmodules",""),await W("git",["submodule","add","https://github.com/foundry-rs/forge-std.git","lib/forge-std"]),await W("git",["submodule","update","--init","--recursive"])}var bf=_(require("async-retry"));var qt=_(require("fs")),bn=require("fs/promises"),X=_(require("path"));function bm(e){return typeof e=="object"&&e!==null&&typeof e.message=="string"}async function wf({contractPath:e,packageManager:t,framework:r,contractName:n,baseContract:i,onlyContract:o,createExtension:a}){i&&(hf(i)||(console.error(`Could not locate the base contract for ${m.red(`"${i}"`)}. Please check that the base contract exists and try again.`),process.exit(1)));let s=X.default.resolve(e);await bi(X.default.dirname(s))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1)),/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(n)||(console.error(`Contract name ${m.red(`"${n}"`)} is not valid (only alphanumeric characters are allowed).`),process.exit(1));let l=n.replace(/\.sol$/,"");n=l+".sol";let c=t==="yarn";if(o){if(qt.default.existsSync(X.default.join(s,n))&&(console.error(`A contract with the name ${m.red(`"${n}"`)} already exists in specified directory.`),process.exit(1)),i&&i.length>0){let f=ea(i),p="";p=X.default.join(s,n),await(0,bn.writeFile)(p,f),console.log(`${m.green("Success!")} Created ${n} at ${e}`)}if(!i&&a){let f=ta(l),p="";p=X.default.join(s,n),await(0,bn.writeFile)(p,f),console.log(`${m.green("Success!")} Created your ${n} extension at ${e}`)}}else{let f=X.default.basename(s);await wi(s),hi(s,f)||process.exit(1);let p=!c||await gi(),u=process.cwd();console.log(`Creating a new thirdweb contracts project in ${m.green(s)}.`),console.log(),process.chdir(s);try{console.log("Downloading files. This might take a moment.");let y="";if(r==="hardhat"?y="hardhat-javascript-starter":r==="forge"?y="forge-starter":(console.error("Please provide a valid contracts framework."),process.exit(1)),await(0,bf.default)(()=>gn(s,{name:y,filePath:""}),{retries:3}),i&&i.length>0){let d=ea(i).replace("contract Contract",`contract ${n.replace(".sol","")}`),x="";r==="hardhat"&&(qt.default.unlinkSync(X.default.join(s,"contracts","Contract.sol")),x=X.default.join(s,"contracts",n)),r==="forge"&&(qt.default.unlinkSync(X.default.join(s,"src","Contract.sol")),x=X.default.join(s,"src",n)),await(0,bn.writeFile)(x,d)}if(!i&&a){let d=ta(l),x="";x=X.default.join(s,n),r==="hardhat"&&(qt.default.unlinkSync(X.default.join(s,"contracts","Contract.sol")),x=X.default.join(s,"contracts",n)),r==="forge"&&(qt.default.unlinkSync(X.default.join(s,"src","Contract.sol")),x=X.default.join(s,"src",n)),await(0,bn.writeFile)(x,d)}}catch(y){throw new Ve(bm(y)?y.message:String(y))}console.log("Installing packages. This might take a couple of minutes."),console.log(),await hn(s,null,{packageManager:t,isOnline:p}),console.log(),mi(s)&&(console.log("Initialized a git repository."),console.log()),r==="forge"&&await yf();let b;X.default.join(u,f)===e?b=f:b=e,console.log(`${m.green("Success!")} Created ${f} at ${e}`),console.log(),console.log("Inside that directory, you can run several commands:"),console.log(),console.log(m.cyan(`  ${t}${c?"":" run"} build`)),console.log("    Compiles your contracts and detects thirdweb extensions implemented on them."),console.log(),console.log(m.cyan(`  ${t}${c?"":" run"} deploy`)),console.log("    Deploys your contracts with the thirdweb deploy flow."),console.log(),console.log(m.cyan(`  ${t}${c?"":" run"} publish`)),console.log("    Publishes your contracts with the thirdweb publish flow."),console.log(),console.log("We suggest that you begin by typing:"),console.log(),console.log(m.cyan("  cd"),b),console.log(),r==="forge"&&(await Zn()||console.log(`
${m.yellowBright("warning")} You don't have forge installed on this machine, and will need it to run this project! 

You can install forge by following these instructions:
${m.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`))}}var xf=_(require("validate-npm-package-name"));function ra(e){let t=(0,xf.default)(e);return t.validForNewPackages?{valid:!0}:{valid:!1,problems:[...t.errors||[],...t.warnings||[]]}}var Ut=_(require("fs")),re=_(require("path")),be=_(require("prompts")),wn="",H="",M="",G="",He="",xi="",mt="",na=!1;async function _f(e,t="",r){if(typeof t=="string"&&(H=t),typeof r.contractName=="string"&&(wn=r.contractName),e==="app"||r.app?M="app":e==="contract"||r.contract?M="contract":(e==="extension"||r.extension)&&(M="extension"),M==="app"&&(r.typescript&&(He="typescript"),r.javascript&&(He="javascript"),r.next&&(G="next"),r.cra&&(G="cra"),r.vite&&(G="vite"),r.node&&(G="node"),r.express&&(G="express"),r.reactNative&&(G="react-native"),r.solana&&(mt="solana"),r.evm&&(mt="evm")),M==="contract"&&(r.forge&&(G="forge"),r.hardhat&&(G="hardhat")),r.framework&&(G=r.framework),!M&&!r.template){let c=await(0,be.default)({type:"select",name:"projectType",message:ue.typeOfProject,choices:[{title:"App",value:"app"},{title:"Contract",value:"contract"},{title:"Dynamic Contract Extension",value:"extension"}]});typeof c.projectType=="string"&&(M=c.projectType.trim())}else(!M||r.template)&&(M="app");M==="extension"&&(na=!0,r.forge&&(G="forge"),r.hardhat&&(G="hardhat"));let n=!1;if(M==="contract"||M==="extension"){let c=re.default.resolve(H),f=await at(c,{});if(f==="foundry"&&Ut.default.existsSync(re.default.join(c,"src")))n=!0,H=re.default.join(H,"src");else if(f==="hardhat")if(Ut.default.existsSync(re.default.join(c,"contracts")))n=!0,H=re.default.join(H,"contracts");else{let p=Ut.default.readdirSync(c).filter(u=>Ut.default.lstatSync(re.default.join(c,u)).isDirectory());for(let u of p)if(Ut.default.readdirSync(re.default.join(H,u)).some(y=>y.endsWith(".sol"))){n=!0,H=re.default.join(H,u);break}}}if(!n){if(!H){let c=M==="contract"||M==="extension"?"thirdweb-contracts":"thirdweb-app",f=await(0,be.default)({type:"text",name:"path",message:ue.projectName,initial:r.template||c,format:p=>p.toLowerCase(),validate:p=>{let u=ra(re.default.basename(re.default.resolve(p.toLowerCase())));return u.valid||"Invalid project name: "+u.problems?.[0]}});typeof f.path=="string"&&(H=re.default.join(H,f.path.trim()))}if(H||(console.log(`
Please specify the project directory:
  ${m.cyan("npx thirdweb create")} ${m.green("<project-directory>")}
For example:
  ${m.cyan("npx thirdweb create")} ${m.green("my-thirdweb-app")}

Run ${m.cyan("npx thirdweb --help")} to see all options.`),process.exit(1)),!r.template){if(M==="app"&&!mt&&((await(0,be.default)({type:"select",name:"chain",message:ue.chain,choices:[{title:"EVM",value:"evm"},{title:"Solana",value:"solana"}]})).chain==="solana"?mt="solana":mt="evm"),M==="app"&&!G){let c=await(0,be.default)({type:"select",name:"framework",message:ue.framework,choices:mt==="solana"?[{title:"Next.js",value:"next"},{title:"Create React App",value:"cra"},{title:"Node.js",value:"node"},{title:"Express",value:"express"}]:[{title:"Next.js",value:"next"},{title:"Create React App",value:"cra"},{title:"Vite",value:"vite"},{title:"React Native",value:"react-native"},{title:"Node.js",value:"node"},{title:"Express",value:"express"}]});typeof c.framework=="string"&&(G=c.framework.trim())}if(M==="app"&&!He)if(G==="react-native"){let c=await(0,be.default)({type:"select",name:"project",message:ue.reactNative,choices:[{title:"Expo Project",value:"expo"},{title:"React Native CLI",value:"typescript"}]});typeof c.project=="string"&&(He=c.project.trim())}else{let c=await(0,be.default)({type:"select",name:"language",message:ue.language,choices:[{title:"JavaScript",value:"javascript"},{title:"TypeScript",value:"typescript"}]});typeof c.language=="string"&&(He=c.language.trim())}if((M==="contract"||M==="extension")&&G!=="forge"&&G!=="hardhat"){let c=await(0,be.default)({type:"select",name:"framework",message:ue.framework,choices:[{title:"Hardhat",value:"hardhat"},{title:"Forge",value:"forge"}]});typeof c.framework=="string"&&(G=c.framework.trim())}G||(console.log("Please specify a framework"),process.exit(1)),He||(He="javascript")}}if(M==="contract"||M==="extension"){if(!wn){let c="MyContract",f=await(0,be.default)({type:"text",name:"path",message:M==="extension"?ue.extensionName:ue.contractName,initial:c,validate:p=>/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(p)?!0:"Invalid contract name 'contractName' (only alphanumeric characters allowed)"});typeof f.path=="string"&&(wn=f.path.trim()),wn||(console.log(`
Please specify the contract name:
  ${m.cyan("npx thirdweb create --contract --name")} ${m.green("<contract-name>")}
For example:
  ${m.cyan("npx thirdweb create --contract --name")} ${m.green("MyContract")}

Run ${m.cyan("npx thirdweb --help")} to see all options.`),process.exit(1))}if(M==="contract"&&!xi&&!na){let c="none",f=await(0,be.default)({type:"select",name:"standard",message:ue.contract,choices:[...n?[]:[{title:"Empty Contract",value:"none"}],{title:"ERC721",value:"erc721"},{title:"ERC20",value:"erc20"},{title:"ERC1155",value:"erc1155"}]});if(typeof f.standard=="string"&&(c=f.standard.trim()),c==="none")xi="";else{let p=[];c==="erc721"?p=[{title:"None",value:"ERC721Base"},{title:"Signature Mint",value:"ERC721SignatureMint"},{title:"Lazy Mint",value:"ERC721LazyMint"},{title:"Delayed Reveal",value:"ERC721DelayedReveal"},{title:"Drop",value:"ERC721Drop"}]:c==="erc20"?p=[{title:"None",value:"ERC20Base"},{title:"Vote",value:"ERC20Vote"},{title:"Signature Mint",value:"ERC20SignatureMint"},{title:"Vote + Signature Mint",value:"ERC20SignatureMintVote"},{title:"Drop",value:"ERC20Drop"},{title:"Vote + Drop",value:"ERC20DropVote"}]:c==="erc1155"&&(p=[{title:"None",value:"ERC1155Base"},{title:"Signature Mint",value:"ERC1155SignatureMint"},{title:"Lazy Mint",value:"ERC1155LazyMint"},{title:"Delayed Reveal",value:"ERC1155DelayedReveal"},{title:"Drop",value:"ERC1155Drop"}]);let u=await(0,be.default)({type:"select",name:"baseContract",message:ue.extensions,choices:p});typeof u.baseContract=="string"&&(xi=u.baseContract.trim())}}}H=re.default.resolve(H);let i=re.default.basename(H),{valid:o,problems:a}=ra(i);o||(console.error(`Could not create a project called ${m.red(`"${i}"`)} because of npm naming restrictions:`),a?.forEach(c=>console.error(`    ${m.red.bold("*")} ${c}`)),process.exit(1)),r.template===!0&&(console.error("Please provide an template name, otherwise remove the template option. Checkout some templates you can use here: https://github.com/thirdweb-example/"),process.exit(1));let s=r.useNpm?"npm":r.usePnpm?"pnpm":At(),l=typeof r.template=="string"?r.template.trim():void 0;try{M==="app"?await mf({appPath:H,packageManager:s,framework:G,language:He,template:l,chain:mt}):await wf({contractPath:H,packageManager:s,framework:G,contractName:wn,baseContract:xi,onlyContract:n,createExtension:na})}catch(c){if(!(c instanceof Ve))throw c}}function ia(e,t){let r=e.split("/");if(r.length>1)return`https://thirdweb.com/dashboard/${r[0]}/${r[1]}${t?`/${t}`:""}`;{let i={"signature-drop":"SignatureDrop","nft-drop":"DropERC721","edition-drop":"DropERC1155","nft-collection":"TokenERC721",edition:"TokenERC1155","token-drop":"DropERC20",token:"TokenERC20",marketplace:"Marketplace",split:"Split",vote:"VoteERC20",pack:"Pack",multiwrap:"Multiwrap"}[e];return i?`https://thirdweb.com/dashboard/${i}`:void 0}}var Sf=require("@thirdweb-dev/storage");var ht=_(require("fs")),_i=_(require("path"));function vf(e,t){let r=[],n=ht.default.lstatSync(e);if(n.isFile()){let i=_i.default.relative(t,e),o=ht.default.readFileSync(e);r.push({name:i,data:o})}else n.isDirectory()&&ht.default.readdirSync(e).forEach(o=>{let a=_i.default.join(e,o);vf(a,t).forEach(l=>r.push(l))});return r}async function vi(e,t){if(!t)return Promise.reject("No path provided");if(!ht.default.existsSync(t))return Promise.reject("Invalid path provided");let n="",i=ht.default.lstatSync(t);if(i.isDirectory()){let o=vf(t,t);if(o.length===0)return Promise.reject("No files detected in specified directory");let a=ne("Uploading directory to IPFS. This may take a while depending on file sizes."),s=await e.uploadBatch(o);a.succeed("Successfully uploaded directory to IPFS"),n=s[0].substring(0,s[0].lastIndexOf("/"))}else if(i.isFile()){let o=_i.default.parse(t).base,a=ht.default.readFileSync(t),s={name:o,data:a},l=ne("Uploading file to IPFS. This may take a while depending on file sizes.");n=await e.upload(s,{uploadWithoutDirectory:!0}),l.succeed("Successfully uploaded file to IPFS.")}else return Promise.reject("Invalid path provided");return n}async function kf(e="dist",t="."){let r=new Sf.ThirdwebStorage,n=await st(t,{}),i=await ut(t,{},n);if(i==="none")throw new Error("No supported project detected");switch(i){case"next":e="out";break;case"cra":e="build";break;default:break}g.info(`Detected project type: ${i}`),g.info(`Detected package manager: ${n}`),g.info(`distPath: ${e}`),g.info(`projectPath: ${t}`);try{switch(n){case"yarn":await W("yarn",["build"],!0),i==="next"&&await W("yarn",["next","export"],!0);break;case"npm":await W("npm",["run","build"],!0),i==="next"&&await W("npx",["next","export"],!0);break;case"pnpm":await W("pnpm",["build"],!0),i==="next"&&await W("pnpm",["next","export"],!0);break;default:throw new Error("No supported package manager detected")}}catch{return console.error("Can't build project"),Promise.reject("Can't build project")}try{return`${(await vi(r,e)).replace("ipfs://","https://ipfs-public.thirdwebcdn.com/ipfs/")}`}catch(o){return console.error("Can't upload project",o),Promise.reject("Can't upload project")}}async function Ef(e){if(e.name){let r=ia(e.name,e.contractVersion);if(!r){g.error(m.red(`Could not find a contract named ${e.name} ${e.contractVersion||""}`));return}return D(`Open this link to deploy your contract: ${m.blueBright(r)}`),r.toString()}if(e.app)try{let r=await kf(e.distPath,e.path);return D(`Here is the link to your app: ${m.blueBright(r.toString())}`),r.toString()}catch(r){return g.error("Failed to deploy app, No compatible project found",r),Promise.reject("failed to deploy app, no compatible project found")}let t=await mn(e,"deploy");return D(`Open this link to deploy your contracts: ${m.blueBright(t.toString())}`),t.toString()}var Si=require("@thirdweb-dev/sdk"),Rf=require("@thirdweb-dev/storage");var Df=require("@thirdweb-dev/chains"),ee=_(require("fs")),Ff=_(require("prompts"));var Tf=require("@thirdweb-dev/sdk"),Cf=_(require("prompts")),oa=require("@thirdweb-dev/chains"),Pf=oa.allChains.map(e=>({title:e.slug}));async function aa(e,t,r){let n=[];await Promise.all(e.map(async i=>{let o=[];if(await Promise.all(t.map(async a=>{let s=(0,Tf.getChainProvider)(a,{});try{let l=await s.getCode(i);if(!l||l==="0x")return;o.push(a)}catch{return}})),!!o.length){if(o.length===1){r.push({address:i,chainId:o[0]});return}n.push({address:i,chains:o.map(a=>({slug:oa.allChains[a].slug,chainId:a}))})}}));for(let i of n){let o=await(0,Cf.default)({type:"select",name:"chainId",message:`What chain is smart contract '${i.address}' on?`,choices:i.chains.map(a=>({title:a.slug,value:a.chainId}))});r.push({address:i.address,chainId:o.chainId})}}async function jf(e){let t=e.path?.replace(/\/$/,"")||".",r=[],n=[];if(ko(t,/(0x[a-fA-F0-9]{40})/g,n),ee.default.existsSync(`${t}/thirdweb.json`)){let p=JSON.parse(ee.default.readFileSync(`${t}/thirdweb.json`,"utf-8")),u=p.contracts.map(y=>y.address.toLowerCase()),b=Array.from(new Set(n)).filter(y=>!u.includes(y.toLowerCase()));if(r=[...p.contracts],b.length){let y=p.chainIds;if(await aa(b,y,r),r.length>p.contracts.length){ee.default.writeFileSync(`${t}/thirdweb.json`,JSON.stringify({chainIds:y,contracts:r},void 0,2));let d=r.length-p.contracts.length;D(`Updated thirdweb.json with ${d} new contract${d===1?"":"s"}`)}}}else{let u=(await(0,Ff.default)({type:"autocompleteMultiselect",name:"chains",message:gc.chains,choices:Pf})).chains.map(b=>Df.allChains[b].chainId);await aa(n,u,r),ee.default.writeFileSync(`${t}/thirdweb.json`,JSON.stringify({chainIds:u,contracts:r},void 0,2)),D(`Created a thirdweb.json file with configuration for ${r.length} contract${r.length===1?"":"s"} detected in your project.

 - You can also update this configuration manually by editing the file.
`)}F("Downloading ABIs for contracts configured in 'thirdweb.json'").info();let i=new Rf.ThirdwebStorage,o=[];await Promise.all(r.map(async p=>{let u=(0,Si.getChainProvider)(p.chainId,{}),b;try{b=await(0,Si.fetchContractMetadataFromAddress)(p.address,u,i)}catch{F(`Unable to download ABI for contract ${p.address}, skipping.`).warn();return}o.push({address:p.address,metadata:b})}));let a=`${t}/node_modules/@thirdweb-dev/generated-abis/dist`;ee.default.existsSync(a)||(F("Unable to cache ABIs. Please ensure that you have the latest @thirdweb-dev/sdk package installed.").fail(),process.exit(1)),[`${a}/thirdweb-dev-generated-abis.cjs.js`,`${a}/thirdweb-dev-generated-abis.esm.js`].forEach(p=>{if(!ee.default.existsSync(p))return;let u=ee.default.readFileSync(p,"utf-8"),b=/GENERATED_ABI = \{.*\};\n\n/s,y=o.reduce((w,v)=>(w[v.address]=v.metadata.abi,w),{}),d=JSON.stringify(y,null,2),x=u.replace(b,`GENERATED_ABI = ${d};

`);ee.default.writeFileSync(p,x)});{let p=`${a}/declarations/src/index.d.ts`;if(!ee.default.existsSync(p))return;let u=ee.default.readFileSync(p,"utf-8"),b=/GENERATED_ABI: \{.*\}/s,y=o.reduce((w,v)=>(w[v.address]=v.metadata.abi,w),{}),d=JSON.stringify(y,null,2),x=u.replace(b,`GENERATED_ABI: ${d}`);ee.default.writeFileSync(p,x)}F(`Downloaded and cached ABIs for ${o.length} smart contract${o.length===1?"":"s"}`).succeed();let l=`${t}/package.json`;if(!ee.default.existsSync(l))return;let c=JSON.parse(ee.default.readFileSync(l,"utf-8"));if(c.scripts?.postinstall?.includes("thirdweb generate"))return;let f=c.scripts?.postinstall?c.scripts.postinstall+" && export THIRDWEB_CLI_SKIP_INTRO=true && npx --yes thirdweb@latest generate":"export THIRDWEB_CLI_SKIP_INTRO=true && npx --yes thirdweb@latest generate";ee.default.writeFileSync(l,JSON.stringify({...c,scripts:{...c.scripts,postinstall:f}},void 0,2)),F(`Added 'npx thirdweb generate' to postinstall in package.json.

 - This is necessary to use 'thirdweb generate' in production.
`).info()}var sa=require("child_process");async function $f(){if(await wm())return{packageManager:await import("detect-package-manager").then(({detect:o})=>o()),isGlobal:!1};if(await xm())return{packageManager:"npm",isGlobal:!0};if(await _m())return{packageManager:"yarn",isGlobal:!0};if(await vm())return{packageManager:"pnpm",isGlobal:!0}}async function wm(){let e=await ca("npm ls --depth=0");return ki(e||[])}async function xm(){let e=await ca("npm ls -g --depth=0");return ki(e||[])}async function _m(){let e=await ca("yarn --cwd `yarn global dir` list");return ki(e||[])}async function vm(){let e=await new Promise(t=>{(0,sa.exec)("pnpm list -g --depth=0",(r,n)=>{var i=[];i=n.split("dependencies:")[1]?.trim().split(`
`)||[],i=i.map(o=>o.replace(" ","@")),t(i)})});return ki(e||[])}function ki(e){return e.some(t=>t.match(/^thirdweb/))}async function ca(e){return new Promise(t=>{(0,sa.exec)(e,(r,n)=>{var i=[];i=n.split(`
`),i=i.filter(function(o){if(o.match(/^├─.+/g)!==null||o.match(/^└─.+/g)!==null)return!0}),i=i.map(function(o){if(o.match(/^├─.+/g)!==null)return o.replace(/(^├──\s|^├─\s)/g,"");if(o.match(/^└─.+/g)!==null)return o.replace(/(^└──\s|^├─\s)/g,"")}).filter(o=>!!o),t(i)})})}var If=require("@thirdweb-dev/storage");var xn=require("child_process"),Af=require("commander"),Ti=_(require("open")),Mf=_(require("prompts")),Nf=_(require("sync-disk-cache"));var Ei=require("fs");var la=_(require("inquirer"));var Sm=["@thirdweb-dev/chain-icons"];async function Of(e=".",t){let r=t.debug||!1,n,i,o={},a={},s=[],l=[],c={},f=[],p=new Set,u=new Set,b={package:"",exists:!1},y=!1,d=await st(e,t),x=await ut(e,t,d),w=await sn(e,t,d),v=x!=="none"&&ui.includes(x)?"contract":"app",$=d==="brownie",C=d==="foundry",O=d==="go-modules",q=["pip","pipenv","poetry"].includes(d),z=["yarn","pnpm","npm"].includes(d);if(z){let k,oe=e+"/package.json";if(!(0,Ei.existsSync)(oe)){console.error("No package.json file found. Please run this command in the root of your project.");return}k=(0,Ei.readFileSync)(oe);let we=R(k);o=we.dependencies,a=we.devDependencies,c=we.peerDependencies}if(q){let k=te(e,d);s=k.dependencies,l=k.devDependencies}$&&(b=await Cl(/\s*thirdweb-dev\/contracts@\d+\.\d+\.\d+/g)),C&&(y=await Pl(e,"thirdweb-contracts")),O&&(f=Rl(e));let gt=!!o?.ethers||!!a?.ethers,je=z?t.dev?"@dev":t.nightly?"@nightly":"":"",Q=new Set([...Object.keys(o).filter(k=>k.startsWith("@thirdweb-dev/")),...Object.keys(a).filter(k=>k.startsWith("@thirdweb-dev/")),...Object.keys(c).filter(k=>k.startsWith("@thirdweb-dev/")),...s.filter(k=>k.startsWith("thirdweb-sdk")).map(k=>k.split("==")[0]),...l.filter(k=>k.startsWith("thirdweb-sdk")).map(k=>k.split("==")[0]),...f.filter(k=>(console.log("dep",k),k.name==="github.com/thirdweb-dev/go-sdk/v2")).map(k=>k.name)].concat(b.exists?[b.package]:[]).concat(y?["lib/thirdweb-contracts"]:[]));if(v==="contract"?Dl({detectedPackageManager:d,thirdwebDepsToUpdate:Q,thirdwebDepsToInstall:p,isJSPackageManager:z}):v==="app"&&Fl({detectedLibrary:w,detectedFramework:x,hasEthers:gt,isGoPackageManager:O,isJSPackageManager:z,isPythonPackageManager:q,otherDeps:u,thirdwebDepsToInstall:p,thirdwebDepsToUpdate:Q}),Sm.forEach(k=>{Q.delete(k),p.delete(k)}),p.size!==0){let k=await la.default.prompt({type:"checkbox",choices:[...p],message:"Which thirdweb dependencies would you like to install?",name:"dependencies",default:[...p]});k.dependencies.length!==p.size&&(p.clear(),k.dependencies.forEach(oe=>p.add(oe)))}if(Q.size!==0){let k=await la.default.prompt({type:"checkbox",choices:[...Q],message:"Which thirdweb dependencies would you like to update?",name:"dependencies",default:[...Q]});k.dependencies.length!==Q.size&&(Q.clear(),k.dependencies.forEach(oe=>Q.add(oe)))}if(p.size===0&&Q.size===0){console.log("No thirdweb dependencies to install or update.");return}r&&(g.info("Detected package manager: "+d),g.info("Detected library: "+w),g.info("Detected framework: "+x),g.info("Detected app type: "+v));try{let k=[...[...p].map(we=>`${we}${je}`),...u],oe=[...Q].map(we=>`${we}${je}`);p.size!==0&&(n=F(`Installing: "${[...p].join('", "')}"`).start(),await Lo(d,k,[],"install",{oldVersion:b.package,debug:r}),n?.succeed(`Installed: "${k.join('", "')}"`)),Q.size!==0&&(i=F(`Updating: "${[...Q].join('", "')}"`).start(),await Lo(d,[],oe,"update",{debug:r}),i?.succeed(`Updated: "${oe.join('", "')}"`))}catch(k){return console.error("Can't install within project: ",k),Promise.reject("Can't install within project")}}var km=async()=>{let e=process.env.THIRDWEB_CLI_SKIP_INTRO==="true",t=new Af.Command,r=new Nf.default("thirdweb:cli");e||(console.info(`
    $$\\     $$\\       $$\\                 $$\\                         $$\\       
    $$ |    $$ |      \\__|                $$ |                        $$ |      
  $$$$$$\\   $$$$$$$\\  $$\\  $$$$$$\\   $$$$$$$ |$$\\  $$\\  $$\\  $$$$$$\\  $$$$$$$\\  
  \\_$$  _|  $$  __$$\\ $$ |$$  __$$\\ $$  __$$ |$$ | $$ | $$ |$$  __$$\\ $$  __$$\\ 
    $$ |    $$ |  $$ |$$ |$$ |  \\__|$$ /  $$ |$$ | $$ | $$ |$$$$$$$$ |$$ |  $$ |
    $$ |$$\\ $$ |  $$ |$$ |$$ |      $$ |  $$ |$$ | $$ | $$ |$$   ____|$$ |  $$ |
    \\$$$$  |$$ |  $$ |$$ |$$ |      \\$$$$$$$ |\\$$$$$\\$$$$  |\\$$$$$$$\\ $$$$$$$  |
     \\____/ \\__|  \\__|\\__|\\__|       \\_______| \\_____\\____/  \\_______|\\_______/ `),console.info(`
 \u{1F48E} thirdweb-cli v${Lt} \u{1F48E}
`)),t.name("thirdweb-cli").description("Official thirdweb command line interface").version(Lt,"-v, --version").option("--skip-update-check","Skip check for auto updates").hook("preAction",async()=>{if(e||t.opts().skipUpdateCheck)return;let n=!0;try{let o=r.get("last-version-check");if(o.isCached){let a=new Date(o.value);Date.now()-a.getTime()<1e3*60*60*24&&(n=!1)}}catch{}if(!n)return;let i=ne("Checking for updates...");await import("update-notifier").then(async({default:o})=>{let s=await o({pkg:Jo,shouldNotifyInNpmScript:!0,updateCheckInterval:0}).fetchInfo();i.stop();try{r.set("last-version-check",new Date().toISOString())}catch{}if(s.type!=="latest"&&(await(0,Mf.default)({type:"toggle",name:"upgrade",message:"A new version of the CLI is available. Would you like to upgrade?",initial:!0,active:"yes",inactive:"no"})).upgrade){let c=ne(`Upgrading CLI to version ${s.latest}...`),f={...process.env};f.THIRDWEB_CLI_SKIP_INTRO="true";let p=await $f();if(!p)return c.succeed(`Now using CLI version ${s.latest}. Continuing execution...`),await new Promise((y,d)=>{(0,xn.spawn)(`npx --yes thirdweb@latest ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:f}).on("close",w=>{w===0?y(""):d()})}),process.exit(0);let u="";switch(p.packageManager){case"npm":u=p.isGlobal?"npm install -g thirdweb":"npm install thirdweb";break;case"yarn":u=p.isGlobal?"yarn global add thirdweb":"yarn add thirdweb";break;case"pnpm":u=p.isGlobal?"pnpm add -g thirdweb@latest":"pnpm add thirdweb@latest";break;default:console.error(`Could not detect package manager in use, aborting automatic upgrade.
If you want to upgrade the CLI, please do it manually with your package manager.`),process.exit(1)}await new Promise((y,d)=>{(0,xn.exec)(u,(x,w,v)=>{if(x)return d(x);y({stdout:w,stderr:v})})}),c.succeed(`Successfully upgraded CLI to version ${s.latest}. Continuing execution...`);let b=!p.isGlobal||p.packageManager==="npm"?"npx thirdweb":"thirdweb";await new Promise((y,d)=>{(0,xn.spawn)(`${b} ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:f}).on("close",w=>w===0?y(""):d())}),process.exit(0)}})}),t.command("install [projectPath]").description("Install thirdweb into your project. If no path is specified, the current directory will be used.").option("--nightly","Install the nightly version of packages.").option("--dev","Install the dev version of packages").option("-d, --debug","show debug logs").action(async(n,i)=>{await Of(n,i)}),t.command("create [projectType] [projectPath]").description("Create a web3 app from any of our official templates: https://github.com/thirdweb-example/").option("--app","Create a web3 app.").option("--contract","Create a web3 contract project").option("--ts, --typescript","Initialize as a TypeScript project.").option("--js, --javascript","Initialize as a JavaScript project.").option("--forge","Initialize as a Forge project.").option("--hardhat","Initialize as a Hardhat project.").option("--extension","Create a smart contract extension.").option("--cra","Initialize as a Create React App project.").option("--next","Initialize as a Next.js project.").option("--vite","Initialize as a Vite project.").option("--reactNative","Initialize as a React Native project.").option("--express","Initialize as a Express project.").option("--node","Initialize as a Node project.").option("--use-npm","Explicitly tell the CLI to bootstrap the app using npm").option("--use-pnpm","Explicitly tell the CLI to bootstrap the app using pnpm").option("--framework [name]","The preferred framework.").option("--solana","Initialize as a Solana project.").option("--evm","Initialize as an Ethereum project.").option("-t, --template [name]","A template to start your project from. You can use an template repository name from the official thirdweb-example org.").option("-c, --contract-name [name]","Name of the new smart contract to create").action(async(n,i,o)=>{await _f(n,i,o)}),t.command("build").description("Compile contract and detect thirdweb contract extensions").option("--clean","clear the cache before building").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").option("-a, --all","run detection on all contracts").action(async n=>{await Tc(n)}),t.command("deploy").description("Deploy your (or team) contracts securely to blockchains").option("-p, --path <project-path>","path to project",".").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").option("--dist-path [distPath]","Path to the dist folder where the HTML based App is").option("-n, --name [name]","Name of the pre-built or published contract (such as nft-drop)").option("-f, --file [name]","Filter for contract files that contain this file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("-cv, --contract-version [version]","Version of the published contract").option("--app","Deploy a web app to decentralized storage").option("--contract","Deploy a smart contract to blockchains").option("--dynamic","Deploy a dynamic smart contract made up of extensions to blockchains").option("--zksync","Deploy on ZKSync").action(async n=>{let i=await Ef(n);i&&await(0,Ti.default)(i)}),t.command("release").description("[Deprecated] use 'publish' instead.").option("-p, --path <project-path>","path to project",".").option("-f, --file [name]","Filter for contract files that contain the file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").action(async n=>{g.warn("'release' is deprecated and will be removed in a future update. Please use 'publish' instead.");let i=await mn(n,"publish");D(`Open this link to publish your contracts: ${m.blueBright(i.toString())}`),await(0,Ti.default)(i.toString())}),t.command("publish").description("Publish your protocol so other devs can deploy them and unlock SDKs, Dashboards and Analytics").option("-p, --path <project-path>","path to project",".").option("-f, --file [name]","Filter for contract files that contain the file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").action(async n=>{let i=await mn(n,"publish");D(`Open this link to publish your contracts: ${m.blueBright(i.toString())}`),await(0,Ti.default)(i.toString())}),t.command("upload").description("Upload any file or directory to decentralized storage (IPFS)").argument("[upload]","path to file or directory to upload").action(async n=>{let i=new If.ThirdwebStorage;try{let o=await vi(i,n);D(`Files stored at the following IPFS URI: ${m.blueBright(o.toString())}`);let a=i.resolveScheme(o);D(`Open this link to view your upload: ${m.blueBright(a.toString())}`)}catch(o){o.toString()==="No files detected in specified directory"||o.toString()==="Invalid path provided"||o.toString()==="No path provided"?g.error(m.redBright("Please specify a valid file or directory to upload")):g.error(m.redBright("Failed to upload files"),o)}}),t.command("detect").description("Detect the type of project your are running and let you know what it is.").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").action(async n=>{await Vl(n)}),t.command("generate").description("Preload ABIs and generate types for your smart contract to strongly type the thirdweb SDK").option("-p, --path <project-path>","path to project",".").action(async n=>{await jf(n)}),await t.parseAsync()};km().then(()=>{process.exit(0)}).catch(e=>{g.error(e),process.exit(1)});
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=index.js.map